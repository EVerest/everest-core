<!doctype html>
<html class="no-js" lang="en" data-content_root="../../../">
  <head><meta charset="utf-8">
    <meta name="viewport" content="width=device-width,initial-scale=1">
    <meta name="color-scheme" content="light dark"><meta name="viewport" content="width=device-width, initial-scale=1" />
<link rel="index" title="Index" href="../../../genindex.html"><link rel="search" title="Search" href="../../../search.html"><link rel="next" title="OCPPExtensionExample" href="../OCPPExtensionExample/index.html"><link rel="prev" title="OCPP1.6 Module" href="../OCPP/index.html">

    <!-- Generated with Sphinx 8.2.3 and Furo 2025.09.25 -->
        <title>OCPP 2.1 and 2.0.1 Module - EVerest Preview documentation</title>
      <link rel="stylesheet" type="text/css" href="../../../_static/pygments.css?v=acfd86a5" />
    <link rel="stylesheet" type="text/css" href="../../../_static/styles/furo.css?v=580074bf" />
    <link rel="stylesheet" type="text/css" href="../../../_static/copybutton.css?v=76b2166b" />
    <link rel="stylesheet" type="text/css" href="../../../_static/sphinx-design.min.css?v=95c83b7e" />
    <link rel="stylesheet" type="text/css" href="../../../_static/styles/furo-extensions.css?v=8dab3a3b" />
    
    


<style>
  body {
    --color-code-background: #f2f2f2;
  --color-code-foreground: #1e1e1e;
  
  }
  @media not print {
    body[data-theme="dark"] {
      --color-code-background: #202020;
  --color-code-foreground: #d0d0d0;
  
    }
    @media (prefers-color-scheme: dark) {
      body:not([data-theme="light"]) {
        --color-code-background: #202020;
  --color-code-foreground: #d0d0d0;
  
      }
    }
  }
</style></head>
  <body>
    
    <script>
      document.body.dataset.theme = localStorage.getItem("theme") || "auto";
    </script>
    

<svg xmlns="http://www.w3.org/2000/svg" style="display: none;">
  <symbol id="svg-toc" viewBox="0 0 24 24">
    <title>Contents</title>
    <svg stroke="currentColor" fill="currentColor" stroke-width="0" viewBox="0 0 1024 1024">
      <path d="M408 442h480c4.4 0 8-3.6 8-8v-56c0-4.4-3.6-8-8-8H408c-4.4 0-8 3.6-8 8v56c0 4.4 3.6 8 8 8zm-8 204c0 4.4 3.6 8 8 8h480c4.4 0 8-3.6 8-8v-56c0-4.4-3.6-8-8-8H408c-4.4 0-8 3.6-8 8v56zm504-486H120c-4.4 0-8 3.6-8 8v56c0 4.4 3.6 8 8 8h784c4.4 0 8-3.6 8-8v-56c0-4.4-3.6-8-8-8zm0 632H120c-4.4 0-8 3.6-8 8v56c0 4.4 3.6 8 8 8h784c4.4 0 8-3.6 8-8v-56c0-4.4-3.6-8-8-8zM115.4 518.9L271.7 642c5.8 4.6 14.4.5 14.4-6.9V388.9c0-7.4-8.5-11.5-14.4-6.9L115.4 505.1a8.74 8.74 0 0 0 0 13.8z"/>
    </svg>
  </symbol>
  <symbol id="svg-menu" viewBox="0 0 24 24">
    <title>Menu</title>
    <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24" fill="none" stroke="currentColor"
      stroke-width="2" stroke-linecap="round" stroke-linejoin="round" class="feather-menu">
      <line x1="3" y1="12" x2="21" y2="12"></line>
      <line x1="3" y1="6" x2="21" y2="6"></line>
      <line x1="3" y1="18" x2="21" y2="18"></line>
    </svg>
  </symbol>
  <symbol id="svg-arrow-right" viewBox="0 0 24 24">
    <title>Expand</title>
    <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24" fill="none" stroke="currentColor"
      stroke-width="2" stroke-linecap="round" stroke-linejoin="round" class="feather-chevron-right">
      <polyline points="9 18 15 12 9 6"></polyline>
    </svg>
  </symbol>
  <symbol id="svg-sun" viewBox="0 0 24 24">
    <title>Light mode</title>
    <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24" fill="none" stroke="currentColor"
      stroke-width="1" stroke-linecap="round" stroke-linejoin="round" class="feather-sun">
      <circle cx="12" cy="12" r="5"></circle>
      <line x1="12" y1="1" x2="12" y2="3"></line>
      <line x1="12" y1="21" x2="12" y2="23"></line>
      <line x1="4.22" y1="4.22" x2="5.64" y2="5.64"></line>
      <line x1="18.36" y1="18.36" x2="19.78" y2="19.78"></line>
      <line x1="1" y1="12" x2="3" y2="12"></line>
      <line x1="21" y1="12" x2="23" y2="12"></line>
      <line x1="4.22" y1="19.78" x2="5.64" y2="18.36"></line>
      <line x1="18.36" y1="5.64" x2="19.78" y2="4.22"></line>
    </svg>
  </symbol>
  <symbol id="svg-moon" viewBox="0 0 24 24">
    <title>Dark mode</title>
    <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24" fill="none" stroke="currentColor"
      stroke-width="1" stroke-linecap="round" stroke-linejoin="round" class="icon-tabler-moon">
      <path stroke="none" d="M0 0h24v24H0z" fill="none" />
      <path d="M12 3c.132 0 .263 0 .393 0a7.5 7.5 0 0 0 7.92 12.446a9 9 0 1 1 -8.313 -12.454z" />
    </svg>
  </symbol>
  <symbol id="svg-sun-with-moon" viewBox="0 0 24 24">
    <title>Auto light/dark, in light mode</title>
    <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24" fill="none" stroke="currentColor"
      stroke-width="1" stroke-linecap="round" stroke-linejoin="round"
      class="icon-custom-derived-from-feather-sun-and-tabler-moon">
      <path style="opacity: 50%" d="M 5.411 14.504 C 5.471 14.504 5.532 14.504 5.591 14.504 C 3.639 16.319 4.383 19.569 6.931 20.352 C 7.693 20.586 8.512 20.551 9.25 20.252 C 8.023 23.207 4.056 23.725 2.11 21.184 C 0.166 18.642 1.702 14.949 4.874 14.536 C 5.051 14.512 5.231 14.5 5.411 14.5 L 5.411 14.504 Z"/>
      <line x1="14.5" y1="3.25" x2="14.5" y2="1.25"/>
      <line x1="14.5" y1="15.85" x2="14.5" y2="17.85"/>
      <line x1="10.044" y1="5.094" x2="8.63" y2="3.68"/>
      <line x1="19" y1="14.05" x2="20.414" y2="15.464"/>
      <line x1="8.2" y1="9.55" x2="6.2" y2="9.55"/>
      <line x1="20.8" y1="9.55" x2="22.8" y2="9.55"/>
      <line x1="10.044" y1="14.006" x2="8.63" y2="15.42"/>
      <line x1="19" y1="5.05" x2="20.414" y2="3.636"/>
      <circle cx="14.5" cy="9.55" r="3.6"/>
    </svg>
  </symbol>
  <symbol id="svg-moon-with-sun" viewBox="0 0 24 24">
    <title>Auto light/dark, in dark mode</title>
    <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24" fill="none" stroke="currentColor"
      stroke-width="1" stroke-linecap="round" stroke-linejoin="round"
      class="icon-custom-derived-from-feather-sun-and-tabler-moon">
      <path d="M 8.282 7.007 C 8.385 7.007 8.494 7.007 8.595 7.007 C 5.18 10.184 6.481 15.869 10.942 17.24 C 12.275 17.648 13.706 17.589 15 17.066 C 12.851 22.236 5.91 23.143 2.505 18.696 C -0.897 14.249 1.791 7.786 7.342 7.063 C 7.652 7.021 7.965 7 8.282 7 L 8.282 7.007 Z"/>
      <line style="opacity: 50%" x1="18" y1="3.705" x2="18" y2="2.5"/>
      <line style="opacity: 50%" x1="18" y1="11.295" x2="18" y2="12.5"/>
      <line style="opacity: 50%" x1="15.316" y1="4.816" x2="14.464" y2="3.964"/>
      <line style="opacity: 50%" x1="20.711" y1="10.212" x2="21.563" y2="11.063"/>
      <line style="opacity: 50%" x1="14.205" y1="7.5" x2="13.001" y2="7.5"/>
      <line style="opacity: 50%" x1="21.795" y1="7.5" x2="23" y2="7.5"/>
      <line style="opacity: 50%" x1="15.316" y1="10.184" x2="14.464" y2="11.036"/>
      <line style="opacity: 50%" x1="20.711" y1="4.789" x2="21.563" y2="3.937"/>
      <circle style="opacity: 50%" cx="18" cy="7.5" r="2.169"/>
    </svg>
  </symbol>
  <symbol id="svg-pencil" viewBox="0 0 24 24">
    <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24" fill="none" stroke="currentColor"
      stroke-width="1" stroke-linecap="round" stroke-linejoin="round" class="icon-tabler-pencil-code">
      <path d="M4 20h4l10.5 -10.5a2.828 2.828 0 1 0 -4 -4l-10.5 10.5v4" />
      <path d="M13.5 6.5l4 4" />
      <path d="M20 21l2 -2l-2 -2" />
      <path d="M17 17l-2 2l2 2" />
    </svg>
  </symbol>
  <symbol id="svg-eye" viewBox="0 0 24 24">
    <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24" fill="none" stroke="currentColor"
      stroke-width="1" stroke-linecap="round" stroke-linejoin="round" class="icon-tabler-eye-code">
      <path stroke="none" d="M0 0h24v24H0z" fill="none" />
      <path d="M10 12a2 2 0 1 0 4 0a2 2 0 0 0 -4 0" />
      <path
        d="M11.11 17.958c-3.209 -.307 -5.91 -2.293 -8.11 -5.958c2.4 -4 5.4 -6 9 -6c3.6 0 6.6 2 9 6c-.21 .352 -.427 .688 -.647 1.008" />
      <path d="M20 21l2 -2l-2 -2" />
      <path d="M17 17l-2 2l2 2" />
    </svg>
  </symbol>
</svg>

<input type="checkbox" class="sidebar-toggle" name="__navigation" id="__navigation" aria-label="Toggle site navigation sidebar">
<input type="checkbox" class="sidebar-toggle" name="__toc" id="__toc" aria-label="Toggle table of contents sidebar">
<label class="overlay sidebar-overlay" for="__navigation"></label>
<label class="overlay toc-overlay" for="__toc"></label>

<a class="skip-to-content muted-link" href="#furo-main-content">Skip to content</a>



<div class="page">
  <header class="mobile-header">
    <div class="header-left">
      <label class="nav-overlay-icon" for="__navigation">
        <span class="icon"><svg><use href="#svg-menu"></use></svg></span>
      </label>
    </div>
    <div class="header-center">
      <a href="../../../index.html"><div class="brand">EVerest Preview documentation</div></a>
    </div>
    <div class="header-right">
      <div class="theme-toggle-container theme-toggle-header">
        <button class="theme-toggle" aria-label="Toggle Light / Dark / Auto color theme">
          <svg class="theme-icon-when-auto-light"><use href="#svg-sun-with-moon"></use></svg>
          <svg class="theme-icon-when-auto-dark"><use href="#svg-moon-with-sun"></use></svg>
          <svg class="theme-icon-when-dark"><use href="#svg-moon"></use></svg>
          <svg class="theme-icon-when-light"><use href="#svg-sun"></use></svg>
        </button>
      </div>
      <label class="toc-overlay-icon toc-header-icon" for="__toc">
        <span class="icon"><svg><use href="#svg-toc"></use></svg></span>
      </label>
    </div>
  </header>
  <aside class="sidebar-drawer">
    <div class="sidebar-container">
      
      <div class="sidebar-sticky"><a class="sidebar-brand" href="../../../index.html">
  
  <span class="sidebar-brand-text">EVerest Preview documentation</span>
  
</a><form class="sidebar-search-container" method="get" action="../../../search.html" role="search">
  <input class="sidebar-search" placeholder="Search" name="q" aria-label="Search">
  <input type="hidden" name="check_keywords" value="yes">
  <input type="hidden" name="area" value="default">
</form>
<div id="searchbox"></div><div class="sidebar-scroll"><div class="sidebar-tree">
  <p class="caption" role="heading"><span class="caption-text">Contents</span></p>
<ul class="current">
<li class="toctree-l1 has-children"><a class="reference internal" href="../../../tutorials/index.html">Tutorials</a><input aria-label="Toggle navigation of Tutorials" class="toctree-checkbox" id="toctree-checkbox-1" name="toctree-checkbox-1" role="switch" type="checkbox"/><label for="toctree-checkbox-1"><span class="icon"><svg><use href="#svg-arrow-right"></use></svg></span></label><ul>
<li class="toctree-l2"><a class="reference internal" href="../../../tutorials/bazel.html">Experimental Bazel Support in Everest</a></li>
<li class="toctree-l2"><a class="reference internal" href="../../../tutorials/plug-and-charge.html">Plug&amp;Charge with EVerest Software in the loop</a></li>
<li class="toctree-l2"><a class="reference internal" href="../../../tutorials/ocpp2.html">How To: OCPP 2.0.1 and 2.1 in EVerest</a></li>
<li class="toctree-l2"><a class="reference internal" href="../../../tutorials/ocpp16.html">How To: OCPP 1.6 in EVerest</a></li>
<li class="toctree-l2"><a class="reference internal" href="../../../tutorials/develop-new-module.html">Develop New Modules</a></li>
</ul>
</li>
<li class="toctree-l1 has-children"><a class="reference internal" href="../../../how-to-guides/index.html">How To Guides</a><input aria-label="Toggle navigation of How To Guides" class="toctree-checkbox" id="toctree-checkbox-2" name="toctree-checkbox-2" role="switch" type="checkbox"/><label for="toctree-checkbox-2"><span class="icon"><svg><use href="#svg-arrow-right"></use></svg></span></label><ul>
<li class="toctree-l2"><a class="reference internal" href="../../../how-to-guides/configure-pnc.html">Configure Plug&amp;Charge in EVerest</a></li>
<li class="toctree-l2"><a class="reference internal" href="../../../how-to-guides/debug-iso15118.html">Debug ISO 15118</a></li>
<li class="toctree-l2"><a class="reference internal" href="../../../how-to-guides/yocto-cross-compilation.html">Cross-compilation of EVerest</a></li>
<li class="toctree-l2"><a class="reference internal" href="../../../how-to-guides/eichrecht.html">Eichrecht</a></li>
<li class="toctree-l2"><a class="reference internal" href="../../../how-to-guides/uk-smart-charging-regulations.html">UK Smart Charging regulations</a></li>
<li class="toctree-l2"><a class="reference internal" href="../../../how-to-guides/renesas-mpu/index.html">How to for Renesas MPU (RZ/G2L family)</a></li>
<li class="toctree-l2"><a class="reference internal" href="../../../how-to-guides/security-best-practices.html">Security Best Practices</a></li>
<li class="toctree-l2 has-children"><a class="reference internal" href="../../../how-to-guides/bringup/index.html">BringUp &amp; Qualification</a><input aria-label="Toggle navigation of BringUp &amp; Qualification" class="toctree-checkbox" id="toctree-checkbox-3" name="toctree-checkbox-3" role="switch" type="checkbox"/><label for="toctree-checkbox-3"><span class="icon"><svg><use href="#svg-arrow-right"></use></svg></span></label><ul>
<li class="toctree-l3"><a class="reference internal" href="../../../how-to-guides/bringup/basic.html">Basic BringUp</a></li>
<li class="toctree-l3"><a class="reference internal" href="../../../how-to-guides/bringup/powermeter.html">BringUp Powermeter</a></li>
<li class="toctree-l3"><a class="reference internal" href="../../../how-to-guides/bringup/ac.html">AC BringUp</a></li>
<li class="toctree-l3"><a class="reference internal" href="../../../how-to-guides/bringup/dc.html">DC BringUp</a></li>
</ul>
</li>
</ul>
</li>
<li class="toctree-l1 current has-children"><a class="reference internal" href="../../index.html">Explanation</a><input aria-label="Toggle navigation of Explanation" checked="" class="toctree-checkbox" id="toctree-checkbox-4" name="toctree-checkbox-4" role="switch" type="checkbox"/><label for="toctree-checkbox-4"><span class="icon"><svg><use href="#svg-arrow-right"></use></svg></span></label><ul class="current">
<li class="toctree-l2 current has-children"><a class="reference internal" href="../index.html">EVerest Modules</a><input aria-label="Toggle navigation of EVerest Modules" checked="" class="toctree-checkbox" id="toctree-checkbox-5" name="toctree-checkbox-5" role="switch" type="checkbox"/><label for="toctree-checkbox-5"><span class="icon"><svg><use href="#svg-arrow-right"></use></svg></span></label><ul class="current">
<li class="toctree-l3"><a class="reference internal" href="../AdAcEvse22KwzKitBSP/index.html">AdAcEvse22KwzKitBSP</a></li>
<li class="toctree-l3"><a class="reference internal" href="../Auth/index.html">Auth Module</a></li>
<li class="toctree-l3"><a class="reference internal" href="../BUDCExternalDerate/index.html">BUDCExternalDerate</a></li>
<li class="toctree-l3"><a class="reference internal" href="../BUOcppConsumer/index.html">BUOcppConsumer</a></li>
<li class="toctree-l3"><a class="reference internal" href="../Bender_isoCHA425HV/index.html">Bender_isoCHA425HV</a></li>
<li class="toctree-l3"><a class="reference internal" href="../DZG_GSH01/index.html">DZG_GSH01</a></li>
<li class="toctree-l3"><a class="reference internal" href="../DummyTokenProvider/index.html">DummyTokenProvider</a></li>
<li class="toctree-l3"><a class="reference internal" href="../DummyTokenProviderManual/index.html">DummyTokenProviderManual</a></li>
<li class="toctree-l3"><a class="reference internal" href="../DummyTokenValidator/index.html">DummyTokenValidator</a></li>
<li class="toctree-l3"><a class="reference internal" href="../EnergyManager/index.html">EnergyManager</a></li>
<li class="toctree-l3"><a class="reference internal" href="../EvManager/index.html">EvManager</a></li>
<li class="toctree-l3"><a class="reference internal" href="../EvseManager/index.html">EvseManager</a></li>
<li class="toctree-l3"><a class="reference internal" href="../EvseSecurity/index.html">EvseSecurity</a></li>
<li class="toctree-l3"><a class="reference internal" href="../EvseSlac/index.html">EvseSlac</a></li>
<li class="toctree-l3"><a class="reference internal" href="../EvseSlac/index.html#todo">Todo</a></li>
<li class="toctree-l3"><a class="reference internal" href="../EvseV2G/index.html">EvseV2G</a></li>
<li class="toctree-l3"><a class="reference internal" href="../ExampleErrorGlobalSubscriber/index.html">ExampleErrorGlobalSubscriber</a></li>
<li class="toctree-l3"><a class="reference internal" href="../ExampleErrorRaiser/index.html">ExampleErrorRaiser</a></li>
<li class="toctree-l3"><a class="reference internal" href="../ExampleErrorSubscriber/index.html">ExampleErrorSubscriber</a></li>
<li class="toctree-l3"><a class="reference internal" href="../GenericPowermeter/index.html">GenericPowermeter</a></li>
<li class="toctree-l3"><a class="reference internal" href="../IMDSimulator/index.html">IMDSimulator</a></li>
<li class="toctree-l3"><a class="reference internal" href="../IsabellenhuetteIemDcr/index.html">IsabellenhuetteIemDcr</a></li>
<li class="toctree-l3"><a class="reference internal" href="../Iso15118InternetVas/index.html">Iso15118InternetVas</a></li>
<li class="toctree-l3"><a class="reference internal" href="../LemDCBM400600/index.html">LEM DCBM 400/600</a></li>
<li class="toctree-l3"><a class="reference internal" href="../Linux_Systemd_Rauc/index.html">Linux_Systemd_Rauc</a></li>
<li class="toctree-l3"><a class="reference internal" href="../NxpNfcFrontendTokenProvider/index.html">NxpNfcFrontendTokenProvider</a></li>
<li class="toctree-l3"><a class="reference internal" href="../OCPP/index.html">OCPP1.6 Module</a></li>
<li class="toctree-l3 current current-page"><a class="current reference internal" href="#">OCPP 2.1 and 2.0.1 Module</a></li>
<li class="toctree-l3"><a class="reference internal" href="../OCPPExtensionExample/index.html">OCPPExtensionExample</a></li>
<li class="toctree-l3"><a class="reference internal" href="../PN7160TokenProvider/index.html">PN7160TokenProvider</a></li>
<li class="toctree-l3"><a class="reference internal" href="../PhyVersoBSP/index.html">PhyVersoBSP</a></li>
<li class="toctree-l3"><a class="reference internal" href="../TIDA010939/index.html">TIDA010939</a></li>
<li class="toctree-l3"><a class="reference internal" href="../TerminalCostAndPriceMessage/index.html">TerminalCostAndPriceMessage</a></li>
<li class="toctree-l3"><a class="reference internal" href="../TerminalDisplayMessage/index.html">TerminalDisplayMessage</a></li>
<li class="toctree-l3"><a class="reference internal" href="../YetiDriver/index.html">YetiDriver</a></li>
<li class="toctree-l3"><a class="reference internal" href="../YetiEvDriver/index.html">YetiEvDriver</a></li>
<li class="toctree-l3"><a class="reference internal" href="../auth_consumer_API/index.html">auth_consumer_API</a></li>
<li class="toctree-l3"><a class="reference internal" href="../auth_token_provider_API/index.html">auth_token_provider_API</a></li>
<li class="toctree-l3"><a class="reference internal" href="../auth_token_validator_API/index.html">auth_token_validator_API</a></li>
<li class="toctree-l3"><a class="reference internal" href="../dc_external_derate_consumer_API/index.html">dc_external_derate_consumer_API</a></li>
<li class="toctree-l3"><a class="reference internal" href="../display_message_API/index.html">display_message_API</a></li>
<li class="toctree-l3"><a class="reference internal" href="../error_history_consumer_API/index.html">error_history_consumer_API</a></li>
<li class="toctree-l3"><a class="reference internal" href="../evse_board_support_API/index.html">evse_board_support_API</a></li>
<li class="toctree-l3"><a class="reference internal" href="../evse_manager_consumer_API/index.html">evse_manager_consumer_API</a></li>
<li class="toctree-l3"><a class="reference internal" href="../external_energy_limits_consumer_API/index.html">external_energy_limits_consumer_API</a></li>
<li class="toctree-l3"><a class="reference internal" href="../generic_error_raiser_API/index.html">generic_error_raiser_API</a></li>
<li class="toctree-l3"><a class="reference internal" href="../isolation_monitor_API/index.html">isolation_monitor_API</a></li>
<li class="toctree-l3"><a class="reference internal" href="../ocpp_consumer_API/index.html">ocpp_consumer_API</a></li>
<li class="toctree-l3"><a class="reference internal" href="../over_voltage_monitor_API/index.html">over_voltage_monitor_API</a></li>
<li class="toctree-l3"><a class="reference internal" href="../power_supply_DC_API/index.html">power_supply_DC_API</a></li>
<li class="toctree-l3"><a class="reference internal" href="../powermeter_API/index.html">powermeter_API</a></li>
<li class="toctree-l3"><a class="reference internal" href="../session_cost_API/index.html">session_cost_API</a></li>
<li class="toctree-l3"><a class="reference internal" href="../system_API/index.html">system_API</a></li>
</ul>
</li>
<li class="toctree-l2"><a class="reference internal" href="../../community-channels.html">Meet the EVerest Community</a></li>
<li class="toctree-l2"><a class="reference internal" href="../../pnc-process.html">The Plug&amp;Charge Process in EVerest</a></li>
<li class="toctree-l2"><a class="reference internal" href="../../dev-tools/edm.html">edm</a></li>
<li class="toctree-l2"><a class="reference internal" href="../../dev-tools/ev-cli.html">ev-cli</a></li>
<li class="toctree-l2 has-children"><a class="reference internal" href="../../linux-yocto/index.html">Linux / Yocto</a><input aria-label="Toggle navigation of Linux / Yocto" class="toctree-checkbox" id="toctree-checkbox-6" name="toctree-checkbox-6" role="switch" type="checkbox"/><label for="toctree-checkbox-6"><span class="icon"><svg><use href="#svg-arrow-right"></use></svg></span></label><ul>
<li class="toctree-l3"><a class="reference internal" href="../../linux-yocto/setting-up-linux-os.html">Setting up the Linux operating system</a></li>
<li class="toctree-l3"><a class="reference internal" href="../../linux-yocto/building-yocto.html">Building Yocto for your custom hardware</a></li>
<li class="toctree-l3"><a class="reference internal" href="../../linux-yocto/ota-updates.html">Over-the-air-updates (OTA)</a></li>
</ul>
</li>
<li class="toctree-l2"><a class="reference internal" href="../../hardware-architecture.html">Hardware Architecture</a></li>
<li class="toctree-l2"><a class="reference internal" href="../../high-level-overview.html">High-Level Overview of EVerest</a></li>
<li class="toctree-l2 has-children"><a class="reference internal" href="../../adapt-everest/index.html">Adapt EVerest</a><input aria-label="Toggle navigation of Adapt EVerest" class="toctree-checkbox" id="toctree-checkbox-7" name="toctree-checkbox-7" role="switch" type="checkbox"/><label for="toctree-checkbox-7"><span class="icon"><svg><use href="#svg-arrow-right"></use></svg></span></label><ul>
<li class="toctree-l3"><a class="reference internal" href="../../adapt-everest/sub-systems.html">Sub-systems</a></li>
<li class="toctree-l3"><a class="reference internal" href="../../adapt-everest/apis.html">EVerest APIs</a></li>
</ul>
</li>
<li class="toctree-l2 has-children"><a class="reference internal" href="../../getting-started/index.html">Getting Started with EVerest</a><input aria-label="Toggle navigation of Getting Started with EVerest" class="toctree-checkbox" id="toctree-checkbox-8" name="toctree-checkbox-8" role="switch" type="checkbox"/><label for="toctree-checkbox-8"><span class="icon"><svg><use href="#svg-arrow-right"></use></svg></span></label><ul>
<li class="toctree-l3"><a class="reference internal" href="../../getting-started/get-started-sw.html">A Kind Of Quick Guide To EVerest</a></li>
<li class="toctree-l3"><a class="reference internal" href="../../getting-started/get-started-hw.html">Getting Started with EVerest on Hardware</a></li>
</ul>
</li>
<li class="toctree-l2"><a class="reference internal" href="../../detail-module-concept.html">EVerest Modules in Detail</a></li>
</ul>
</li>
<li class="toctree-l1 has-children"><a class="reference internal" href="../../../reference/index.html">Reference</a><input aria-label="Toggle navigation of Reference" class="toctree-checkbox" id="toctree-checkbox-9" name="toctree-checkbox-9" role="switch" type="checkbox"/><label for="toctree-checkbox-9"><span class="icon"><svg><use href="#svg-arrow-right"></use></svg></span></label><ul>
<li class="toctree-l2"><a class="reference internal" href="../../../reference/api/autogenerated_api_index.html">EVerest API Specification</a></li>
<li class="toctree-l2"><a class="reference internal" href="../../../reference/snapshot.html">Snapshot</a></li>
<li class="toctree-l2 has-children"><a class="reference internal" href="../../../reference/modules_index.html">EVerest Modules</a><input aria-label="Toggle navigation of EVerest Modules" class="toctree-checkbox" id="toctree-checkbox-10" name="toctree-checkbox-10" role="switch" type="checkbox"/><label for="toctree-checkbox-10"><span class="icon"><svg><use href="#svg-arrow-right"></use></svg></span></label><ul>
<li class="toctree-l3"><a class="reference internal" href="../../../reference/modules/API.html">API</a></li>
<li class="toctree-l3"><a class="reference internal" href="../../../reference/modules/AST_DC650.html">AST_DC650</a></li>
<li class="toctree-l3"><a class="reference internal" href="../../../reference/modules/Acrel_DJSF1352_RN.html">Acrel_DJSF1352_RN</a></li>
<li class="toctree-l3"><a class="reference internal" href="../../../reference/modules/AdAcEvse22KwzKitBSP.html">AdAcEvse22KwzKitBSP</a></li>
<li class="toctree-l3"><a class="reference internal" href="../../../reference/modules/Auth.html">Auth</a></li>
<li class="toctree-l3"><a class="reference internal" href="../../../reference/modules/BUDCExternalDerate.html">BUDCExternalDerate</a></li>
<li class="toctree-l3"><a class="reference internal" href="../../../reference/modules/BUDisplayMessage.html">BUDisplayMessage</a></li>
<li class="toctree-l3"><a class="reference internal" href="../../../reference/modules/BUEvseBoardSupport.html">BUEvseBoardSupport</a></li>
<li class="toctree-l3"><a class="reference internal" href="../../../reference/modules/BUIsolationMonitor.html">BUIsolationMonitor</a></li>
<li class="toctree-l3"><a class="reference internal" href="../../../reference/modules/BUOcppConsumer.html">BUOcppConsumer</a></li>
<li class="toctree-l3"><a class="reference internal" href="../../../reference/modules/BUOverVoltageMonitor.html">BUOverVoltageMonitor</a></li>
<li class="toctree-l3"><a class="reference internal" href="../../../reference/modules/BUPowerSupplyDC.html">BUPowerSupplyDC</a></li>
<li class="toctree-l3"><a class="reference internal" href="../../../reference/modules/BUPowermeter.html">BUPowermeter</a></li>
<li class="toctree-l3"><a class="reference internal" href="../../../reference/modules/BUSystem.html">BUSystem</a></li>
<li class="toctree-l3"><a class="reference internal" href="../../../reference/modules/BUTokenProvider.html">BUTokenProvider</a></li>
<li class="toctree-l3"><a class="reference internal" href="../../../reference/modules/Bender_isoCHA425HV.html">Bender_isoCHA425HV</a></li>
<li class="toctree-l3"><a class="reference internal" href="../../../reference/modules/ChargerInfo.html">ChargerInfo</a></li>
<li class="toctree-l3"><a class="reference internal" href="../../../reference/modules/DCSupplySimulator.html">DCSupplySimulator</a></li>
<li class="toctree-l3"><a class="reference internal" href="../../../reference/modules/DPM1000.html">DPM1000</a></li>
<li class="toctree-l3"><a class="reference internal" href="../../../reference/modules/DZG_GSH01.html">DZG_GSH01</a></li>
<li class="toctree-l3"><a class="reference internal" href="../../../reference/modules/DummyBankSessionTokenProvider.html">DummyBankSessionTokenProvider</a></li>
<li class="toctree-l3"><a class="reference internal" href="../../../reference/modules/DummyTokenProvider.html">DummyTokenProvider</a></li>
<li class="toctree-l3"><a class="reference internal" href="../../../reference/modules/DummyTokenProviderManual.html">DummyTokenProviderManual</a></li>
<li class="toctree-l3"><a class="reference internal" href="../../../reference/modules/DummyTokenValidator.html">DummyTokenValidator</a></li>
<li class="toctree-l3"><a class="reference internal" href="../../../reference/modules/DummyV2G.html">DummyV2G</a></li>
<li class="toctree-l3"><a class="reference internal" href="../../../reference/modules/EnergyManager.html">EnergyManager</a></li>
<li class="toctree-l3"><a class="reference internal" href="../../../reference/modules/EnergyNode.html">EnergyNode</a></li>
<li class="toctree-l3"><a class="reference internal" href="../../../reference/modules/ErrorHistory.html">ErrorHistory</a></li>
<li class="toctree-l3"><a class="reference internal" href="../../../reference/modules/EvAPI.html">EvAPI</a></li>
<li class="toctree-l3"><a class="reference internal" href="../../../reference/modules/EvManager.html">EvManager</a></li>
<li class="toctree-l3"><a class="reference internal" href="../../../reference/modules/EvSlac.html">EvSlac</a></li>
<li class="toctree-l3"><a class="reference internal" href="../../../reference/modules/Evse15118D20.html">Evse15118D20</a></li>
<li class="toctree-l3"><a class="reference internal" href="../../../reference/modules/EvseManager.html">EvseManager</a></li>
<li class="toctree-l3"><a class="reference internal" href="../../../reference/modules/EvseSecurity.html">EvseSecurity</a></li>
<li class="toctree-l3"><a class="reference internal" href="../../../reference/modules/EvseSlac.html">EvseSlac</a></li>
<li class="toctree-l3"><a class="reference internal" href="../../../reference/modules/EvseV2G.html">EvseV2G</a></li>
<li class="toctree-l3"><a class="reference internal" href="../../../reference/modules/Example.html">Example</a></li>
<li class="toctree-l3"><a class="reference internal" href="../../../reference/modules/ExampleErrorGlobalSubscriber.html">ExampleErrorGlobalSubscriber</a></li>
<li class="toctree-l3"><a class="reference internal" href="../../../reference/modules/ExampleErrorRaiser.html">ExampleErrorRaiser</a></li>
<li class="toctree-l3"><a class="reference internal" href="../../../reference/modules/ExampleErrorSubscriber.html">ExampleErrorSubscriber</a></li>
<li class="toctree-l3"><a class="reference internal" href="../../../reference/modules/ExampleUser.html">ExampleUser</a></li>
<li class="toctree-l3"><a class="reference internal" href="../../../reference/modules/GenericPowermeter.html">GenericPowermeter</a></li>
<li class="toctree-l3"><a class="reference internal" href="../../../reference/modules/Huawei_R100040Gx.html">Huawei_R100040Gx</a></li>
<li class="toctree-l3"><a class="reference internal" href="../../../reference/modules/IMDSimulator.html">IMDSimulator</a></li>
<li class="toctree-l3"><a class="reference internal" href="../../../reference/modules/InfyPower.html">InfyPower</a></li>
<li class="toctree-l3"><a class="reference internal" href="../../../reference/modules/InfyPower_BEG1K075G.html">InfyPower_BEG1K075G</a></li>
<li class="toctree-l3"><a class="reference internal" href="../../../reference/modules/IsabellenhuetteIemDcr.html">IsabellenhuetteIemDcr</a></li>
<li class="toctree-l3"><a class="reference internal" href="../../../reference/modules/Iso15118InternetVas.html">Iso15118InternetVas</a></li>
<li class="toctree-l3"><a class="reference internal" href="../../../reference/modules/IsoMux.html">IsoMux</a></li>
<li class="toctree-l3"><a class="reference internal" href="../../../reference/modules/LemDCBM400600.html">LemDCBM400600</a></li>
<li class="toctree-l3"><a class="reference internal" href="../../../reference/modules/Linux_Systemd_Rauc.html">Linux_Systemd_Rauc</a></li>
<li class="toctree-l3"><a class="reference internal" href="../../../reference/modules/LocalAllowlistTokenValidator.html">LocalAllowlistTokenValidator</a></li>
<li class="toctree-l3"><a class="reference internal" href="../../../reference/modules/MicroMegaWattBSP.html">MicroMegaWattBSP</a></li>
<li class="toctree-l3"><a class="reference internal" href="../../../reference/modules/NxpNfcFrontendTokenProvider.html">NxpNfcFrontendTokenProvider</a></li>
<li class="toctree-l3"><a class="reference internal" href="../../../reference/modules/OCPP.html">OCPP</a></li>
<li class="toctree-l3"><a class="reference internal" href="../../../reference/modules/OCPP201.html">OCPP201</a></li>
<li class="toctree-l3"><a class="reference internal" href="../../../reference/modules/OCPPExtensionExample.html">OCPPExtensionExample</a></li>
<li class="toctree-l3"><a class="reference internal" href="../../../reference/modules/OVMSimulator.html">OVMSimulator</a></li>
<li class="toctree-l3"><a class="reference internal" href="../../../reference/modules/PN532TokenProvider.html">PN532TokenProvider</a></li>
<li class="toctree-l3"><a class="reference internal" href="../../../reference/modules/PN7160TokenProvider.html">PN7160TokenProvider</a></li>
<li class="toctree-l3"><a class="reference internal" href="../../../reference/modules/PacketSniffer.html">PacketSniffer</a></li>
<li class="toctree-l3"><a class="reference internal" href="../../../reference/modules/PersistentStore.html">PersistentStore</a></li>
<li class="toctree-l3"><a class="reference internal" href="../../../reference/modules/PhyVersoBSP.html">PhyVersoBSP</a></li>
<li class="toctree-l3"><a class="reference internal" href="../../../reference/modules/PyEvJosev.html">PyEvJosev</a></li>
<li class="toctree-l3"><a class="reference internal" href="../../../reference/modules/PyExampleErrorRaiser.html">PyExampleErrorRaiser</a></li>
<li class="toctree-l3"><a class="reference internal" href="../../../reference/modules/PyExampleErrorSubscriber.html">PyExampleErrorSubscriber</a></li>
<li class="toctree-l3"><a class="reference internal" href="../../../reference/modules/RsExample.html">RsExample</a></li>
<li class="toctree-l3"><a class="reference internal" href="../../../reference/modules/RsExampleUser.html">RsExampleUser</a></li>
<li class="toctree-l3"><a class="reference internal" href="../../../reference/modules/SerialCommHub.html">SerialCommHub</a></li>
<li class="toctree-l3"><a class="reference internal" href="../../../reference/modules/Setup.html">Setup</a></li>
<li class="toctree-l3"><a class="reference internal" href="../../../reference/modules/SlacSimulator.html">SlacSimulator</a></li>
<li class="toctree-l3"><a class="reference internal" href="../../../reference/modules/StaticISO15118VASProvider.html">StaticISO15118VASProvider</a></li>
<li class="toctree-l3"><a class="reference internal" href="../../../reference/modules/Store.html">Store</a></li>
<li class="toctree-l3"><a class="reference internal" href="../../../reference/modules/System.html">System</a></li>
<li class="toctree-l3"><a class="reference internal" href="../../../reference/modules/TIDA010939.html">TIDA010939</a></li>
<li class="toctree-l3"><a class="reference internal" href="../../../reference/modules/TerminalCostAndPriceMessage.html">TerminalCostAndPriceMessage</a></li>
<li class="toctree-l3"><a class="reference internal" href="../../../reference/modules/TerminalDisplayMessage.html">TerminalDisplayMessage</a></li>
<li class="toctree-l3"><a class="reference internal" href="../../../reference/modules/UUGreenPower_UR1000X0.html">UUGreenPower_UR1000X0</a></li>
<li class="toctree-l3"><a class="reference internal" href="../../../reference/modules/Winline.html">Winline</a></li>
<li class="toctree-l3"><a class="reference internal" href="../../../reference/modules/YamlStore.html">YamlStore</a></li>
<li class="toctree-l3"><a class="reference internal" href="../../../reference/modules/YetiDriver.html">YetiDriver</a></li>
<li class="toctree-l3"><a class="reference internal" href="../../../reference/modules/YetiEvDriver.html">YetiEvDriver</a></li>
<li class="toctree-l3"><a class="reference internal" href="../../../reference/modules/YetiSimulator.html">YetiSimulator</a></li>
<li class="toctree-l3"><a class="reference internal" href="../../../reference/modules/auth_consumer_API.html">auth_consumer_API</a></li>
<li class="toctree-l3"><a class="reference internal" href="../../../reference/modules/auth_token_provider_API.html">auth_token_provider_API</a></li>
<li class="toctree-l3"><a class="reference internal" href="../../../reference/modules/auth_token_validator_API.html">auth_token_validator_API</a></li>
<li class="toctree-l3"><a class="reference internal" href="../../../reference/modules/dc_external_derate_consumer_API.html">dc_external_derate_consumer_API</a></li>
<li class="toctree-l3"><a class="reference internal" href="../../../reference/modules/display_message_API.html">display_message_API</a></li>
<li class="toctree-l3"><a class="reference internal" href="../../../reference/modules/error_history_consumer_API.html">error_history_consumer_API</a></li>
<li class="toctree-l3"><a class="reference internal" href="../../../reference/modules/evse_board_support_API.html">evse_board_support_API</a></li>
<li class="toctree-l3"><a class="reference internal" href="../../../reference/modules/evse_manager_consumer_API.html">evse_manager_consumer_API</a></li>
<li class="toctree-l3"><a class="reference internal" href="../../../reference/modules/external_energy_limits_consumer_API.html">external_energy_limits_consumer_API</a></li>
<li class="toctree-l3"><a class="reference internal" href="../../../reference/modules/generic_error_raiser_API.html">generic_error_raiser_API</a></li>
<li class="toctree-l3"><a class="reference internal" href="../../../reference/modules/isolation_monitor_API.html">isolation_monitor_API</a></li>
<li class="toctree-l3"><a class="reference internal" href="../../../reference/modules/ocpp_consumer_API.html">ocpp_consumer_API</a></li>
<li class="toctree-l3"><a class="reference internal" href="../../../reference/modules/over_voltage_monitor_API.html">over_voltage_monitor_API</a></li>
<li class="toctree-l3"><a class="reference internal" href="../../../reference/modules/power_supply_DC_API.html">power_supply_DC_API</a></li>
<li class="toctree-l3"><a class="reference internal" href="../../../reference/modules/powermeter_API.html">powermeter_API</a></li>
<li class="toctree-l3"><a class="reference internal" href="../../../reference/modules/session_cost_API.html">session_cost_API</a></li>
<li class="toctree-l3"><a class="reference internal" href="../../../reference/modules/system_API.html">system_API</a></li>
</ul>
</li>
<li class="toctree-l2 has-children"><a class="reference internal" href="../../../reference/interfaces_index.html">EVerest Interfaces</a><input aria-label="Toggle navigation of EVerest Interfaces" class="toctree-checkbox" id="toctree-checkbox-11" name="toctree-checkbox-11" role="switch" type="checkbox"/><label for="toctree-checkbox-11"><span class="icon"><svg><use href="#svg-arrow-right"></use></svg></span></label><ul>
<li class="toctree-l3"><a class="reference internal" href="../../../reference/interfaces/ISO15118_charger.html">ISO15118_charger</a></li>
<li class="toctree-l3"><a class="reference internal" href="../../../reference/interfaces/ISO15118_ev.html">ISO15118_ev</a></li>
<li class="toctree-l3"><a class="reference internal" href="../../../reference/interfaces/ISO15118_vas.html">ISO15118_vas</a></li>
<li class="toctree-l3"><a class="reference internal" href="../../../reference/interfaces/ac_rcd.html">ac_rcd</a></li>
<li class="toctree-l3"><a class="reference internal" href="../../../reference/interfaces/auth.html">auth</a></li>
<li class="toctree-l3"><a class="reference internal" href="../../../reference/interfaces/auth_token_provider.html">auth_token_provider</a></li>
<li class="toctree-l3"><a class="reference internal" href="../../../reference/interfaces/auth_token_validator.html">auth_token_validator</a></li>
<li class="toctree-l3"><a class="reference internal" href="../../../reference/interfaces/bank_session_token_provider.html">bank_session_token_provider</a></li>
<li class="toctree-l3"><a class="reference internal" href="../../../reference/interfaces/car_simulator.html">car_simulator</a></li>
<li class="toctree-l3"><a class="reference internal" href="../../../reference/interfaces/charger_information.html">charger_information</a></li>
<li class="toctree-l3"><a class="reference internal" href="../../../reference/interfaces/connector_lock.html">connector_lock</a></li>
<li class="toctree-l3"><a class="reference internal" href="../../../reference/interfaces/dc_external_derate.html">dc_external_derate</a></li>
<li class="toctree-l3"><a class="reference internal" href="../../../reference/interfaces/debug_json.html">debug_json</a></li>
<li class="toctree-l3"><a class="reference internal" href="../../../reference/interfaces/display_message.html">display_message</a></li>
<li class="toctree-l3"><a class="reference internal" href="../../../reference/interfaces/empty.html">empty</a></li>
<li class="toctree-l3"><a class="reference internal" href="../../../reference/interfaces/energy.html">energy</a></li>
<li class="toctree-l3"><a class="reference internal" href="../../../reference/interfaces/energy_manager.html">energy_manager</a></li>
<li class="toctree-l3"><a class="reference internal" href="../../../reference/interfaces/energy_price_information.html">energy_price_information</a></li>
<li class="toctree-l3"><a class="reference internal" href="../../../reference/interfaces/error_history.html">error_history</a></li>
<li class="toctree-l3"><a class="reference internal" href="../../../reference/interfaces/ev_board_support.html">ev_board_support</a></li>
<li class="toctree-l3"><a class="reference internal" href="../../../reference/interfaces/ev_manager.html">ev_manager</a></li>
<li class="toctree-l3"><a class="reference internal" href="../../../reference/interfaces/ev_slac.html">ev_slac</a></li>
<li class="toctree-l3"><a class="reference internal" href="../../../reference/interfaces/evse_board_support.html">evse_board_support</a></li>
<li class="toctree-l3"><a class="reference internal" href="../../../reference/interfaces/evse_manager.html">evse_manager</a></li>
<li class="toctree-l3"><a class="reference internal" href="../../../reference/interfaces/evse_security.html">evse_security</a></li>
<li class="toctree-l3"><a class="reference internal" href="../../../reference/interfaces/example.html">example</a></li>
<li class="toctree-l3"><a class="reference internal" href="../../../reference/interfaces/example_error_framework.html">example_error_framework</a></li>
<li class="toctree-l3"><a class="reference internal" href="../../../reference/interfaces/example_user.html">example_user</a></li>
<li class="toctree-l3"><a class="reference internal" href="../../../reference/interfaces/external_energy_limits.html">external_energy_limits</a></li>
<li class="toctree-l3"><a class="reference internal" href="../../../reference/interfaces/generic_error.html">generic_error</a></li>
<li class="toctree-l3"><a class="reference internal" href="../../../reference/interfaces/iso15118_extensions.html">iso15118_extensions</a></li>
<li class="toctree-l3"><a class="reference internal" href="../../../reference/interfaces/isolation_monitor.html">isolation_monitor</a></li>
<li class="toctree-l3"><a class="reference internal" href="../../../reference/interfaces/kvs.html">kvs</a></li>
<li class="toctree-l3"><a class="reference internal" href="../../../reference/interfaces/ocpp.html">ocpp</a></li>
<li class="toctree-l3"><a class="reference internal" href="../../../reference/interfaces/ocpp_1_6_charge_point.html">ocpp_1_6_charge_point</a></li>
<li class="toctree-l3"><a class="reference internal" href="../../../reference/interfaces/ocpp_data_transfer.html">ocpp_data_transfer</a></li>
<li class="toctree-l3"><a class="reference internal" href="../../../reference/interfaces/over_voltage_monitor.html">over_voltage_monitor</a></li>
<li class="toctree-l3"><a class="reference internal" href="../../../reference/interfaces/payment_terminal.html">payment_terminal</a></li>
<li class="toctree-l3"><a class="reference internal" href="../../../reference/interfaces/power.html">power</a></li>
<li class="toctree-l3"><a class="reference internal" href="../../../reference/interfaces/power_supply_DC.html">power_supply_DC</a></li>
<li class="toctree-l3"><a class="reference internal" href="../../../reference/interfaces/powermeter.html">powermeter</a></li>
<li class="toctree-l3"><a class="reference internal" href="../../../reference/interfaces/reservation.html">reservation</a></li>
<li class="toctree-l3"><a class="reference internal" href="../../../reference/interfaces/serial_communication_hub.html">serial_communication_hub</a></li>
<li class="toctree-l3"><a class="reference internal" href="../../../reference/interfaces/session_cost.html">session_cost</a></li>
<li class="toctree-l3"><a class="reference internal" href="../../../reference/interfaces/slac.html">slac</a></li>
<li class="toctree-l3"><a class="reference internal" href="../../../reference/interfaces/solar_forecast.html">solar_forecast</a></li>
<li class="toctree-l3"><a class="reference internal" href="../../../reference/interfaces/sunspec_ac_meter.html">sunspec_ac_meter</a></li>
<li class="toctree-l3"><a class="reference internal" href="../../../reference/interfaces/sunspec_reader.html">sunspec_reader</a></li>
<li class="toctree-l3"><a class="reference internal" href="../../../reference/interfaces/sunspec_scanner.html">sunspec_scanner</a></li>
<li class="toctree-l3"><a class="reference internal" href="../../../reference/interfaces/system.html">system</a></li>
<li class="toctree-l3"><a class="reference internal" href="../../../reference/interfaces/test_control.html">test_control</a></li>
<li class="toctree-l3"><a class="reference internal" href="../../../reference/interfaces/tibber_price_forecast.html">tibber_price_forecast</a></li>
<li class="toctree-l3"><a class="reference internal" href="../../../reference/interfaces/uk_random_delay.html">uk_random_delay</a></li>
</ul>
</li>
<li class="toctree-l2 has-children"><a class="reference internal" href="../../../reference/types_index.html">EVerest Types</a><input aria-label="Toggle navigation of EVerest Types" class="toctree-checkbox" id="toctree-checkbox-12" name="toctree-checkbox-12" role="switch" type="checkbox"/><label for="toctree-checkbox-12"><span class="icon"><svg><use href="#svg-arrow-right"></use></svg></span></label><ul>
<li class="toctree-l3"><a class="reference internal" href="../../../reference/types/authorization.html">authorization</a></li>
<li class="toctree-l3"><a class="reference internal" href="../../../reference/types/board_support_common.html">board_support_common</a></li>
<li class="toctree-l3"><a class="reference internal" href="../../../reference/types/charger_information.html">charger_information</a></li>
<li class="toctree-l3"><a class="reference internal" href="../../../reference/types/dc_external_derate.html">dc_external_derate</a></li>
<li class="toctree-l3"><a class="reference internal" href="../../../reference/types/display_message.html">display_message</a></li>
<li class="toctree-l3"><a class="reference internal" href="../../../reference/types/energy.html">energy</a></li>
<li class="toctree-l3"><a class="reference internal" href="../../../reference/types/energy_price_information.html">energy_price_information</a></li>
<li class="toctree-l3"><a class="reference internal" href="../../../reference/types/error_history.html">error_history</a></li>
<li class="toctree-l3"><a class="reference internal" href="../../../reference/types/ev_board_support.html">ev_board_support</a></li>
<li class="toctree-l3"><a class="reference internal" href="../../../reference/types/evse_board_support.html">evse_board_support</a></li>
<li class="toctree-l3"><a class="reference internal" href="../../../reference/types/evse_manager.html">evse_manager</a></li>
<li class="toctree-l3"><a class="reference internal" href="../../../reference/types/evse_security.html">evse_security</a></li>
<li class="toctree-l3"><a class="reference internal" href="../../../reference/types/iso15118.html">iso15118</a></li>
<li class="toctree-l3"><a class="reference internal" href="../../../reference/types/iso15118_vas.html">iso15118_vas</a></li>
<li class="toctree-l3"><a class="reference internal" href="../../../reference/types/isolation_monitor.html">isolation_monitor</a></li>
<li class="toctree-l3"><a class="reference internal" href="../../../reference/types/money.html">money</a></li>
<li class="toctree-l3"><a class="reference internal" href="../../../reference/types/ocpp.html">ocpp</a></li>
<li class="toctree-l3"><a class="reference internal" href="../../../reference/types/payment_terminal.html">payment_terminal</a></li>
<li class="toctree-l3"><a class="reference internal" href="../../../reference/types/power_supply_DC.html">power_supply_DC</a></li>
<li class="toctree-l3"><a class="reference internal" href="../../../reference/types/powermeter.html">powermeter</a></li>
<li class="toctree-l3"><a class="reference internal" href="../../../reference/types/reservation.html">reservation</a></li>
<li class="toctree-l3"><a class="reference internal" href="../../../reference/types/serial_comm_hub_requests.html">serial_comm_hub_requests</a></li>
<li class="toctree-l3"><a class="reference internal" href="../../../reference/types/session_cost.html">session_cost</a></li>
<li class="toctree-l3"><a class="reference internal" href="../../../reference/types/sunspec_ac_meter.html">sunspec_ac_meter</a></li>
<li class="toctree-l3"><a class="reference internal" href="../../../reference/types/system.html">system</a></li>
<li class="toctree-l3"><a class="reference internal" href="../../../reference/types/temperature.html">temperature</a></li>
<li class="toctree-l3"><a class="reference internal" href="../../../reference/types/text_message.html">text_message</a></li>
<li class="toctree-l3"><a class="reference internal" href="../../../reference/types/uk_random_delay.html">uk_random_delay</a></li>
<li class="toctree-l3"><a class="reference internal" href="../../../reference/types/units.html">units</a></li>
<li class="toctree-l3"><a class="reference internal" href="../../../reference/types/units_signed.html">units_signed</a></li>
</ul>
</li>
</ul>
</li>
</ul>

</div>
</div>

      </div>
      
    </div>
  </aside>
  <div class="main">
    <div class="content">
      <div class="article-container">
        <a href="#" class="back-to-top muted-link">
          <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24">
            <path d="M13 20h-2V8l-5.5 5.5-1.42-1.42L12 4.16l7.92 7.92-1.42 1.42L13 8v12z"></path>
          </svg>
          <span>Back to top</span>
        </a>
        <div class="content-icon-container">
          <div class="view-this-page">
  <a class="muted-link" href="../../../_sources/explanation/modules/OCPP201/index.rst.txt" title="View this page">
    <svg><use href="#svg-eye"></use></svg>
    <span class="visually-hidden">View this page</span>
  </a>
</div>
<div class="theme-toggle-container theme-toggle-content">
            <button class="theme-toggle" aria-label="Toggle Light / Dark / Auto color theme">
              <svg class="theme-icon-when-auto-light"><use href="#svg-sun-with-moon"></use></svg>
              <svg class="theme-icon-when-auto-dark"><use href="#svg-moon-with-sun"></use></svg>
              <svg class="theme-icon-when-dark"><use href="#svg-moon"></use></svg>
              <svg class="theme-icon-when-light"><use href="#svg-sun"></use></svg>
            </button>
          </div>
          <label class="toc-overlay-icon toc-content-icon" for="__toc">
            <span class="icon"><svg><use href="#svg-toc"></use></svg></span>
          </label>
        </div>
        <article role="main" id="furo-main-content">
          <section id="ocpp-2-1-and-2-0-1-module">
<span id="everest-modules-handwritten-ocpp201"></span><h1>OCPP 2.1 and 2.0.1 Module<a class="headerlink" href="#ocpp-2-1-and-2-0-1-module" title="Link to this heading"></a></h1>
<p>This module implements and integrates OCPP 2.0.1 and OCPP 2.1 within EVerest. A connection to a Charging Station Management System (CSMS) can be
established by loading this module as part of the EVerest configuration. This module leverages <a class="reference external" href="https://github.com/EVerest/libocpp">libocpp</a>,
EVerests OCPP library.</p>
<p>The EVerest config <a class="reference external" href="../../config/config-sil-ocpp201.yaml">config-sil-ocpp201.yaml</a> serves as an example for how to add the OCPP201 module
to your EVerest config.</p>
<p> <strong>Note:</strong>: This module can be used for OCPP2.0.1 and OCPP2.1 communication. The module name OCPP201 is kept for now to allow backwards
compatability with existing EVerest configurations. It will likely be renamed in the future. The following descriptions apply for both
OCPP2.0.1 and OCPP2.1, referred by using the term <strong>OCPP2</strong>.</p>
<section id="module-configuration">
<h2>Module configuration<a class="headerlink" href="#module-configuration" title="Link to this heading"></a></h2>
<p>Like for every EVerest module, the configuration parameters are defined as part of the module <a class="reference external" href="../manifest.yaml">manifest</a>. OCPP2 defines
a device model structure and a lot of standardized variables that are used within the functional requirements of the protocol. Please see
Part 1 - Architecture &amp; Topology of the OCPP2.0.1 or OCPP2.1 specification for further information about the device model and how it is composed.</p>
<p>For this module, the device model is configured separately in a JSON format. This module initializes the device model based on the configuration
parameter <strong>DeviceModelConfigPath</strong>. It shall point to the directory where the component configuration files are located in two subdirectories:</p>
<ul class="simple">
<li><p>standardized</p></li>
<li><p>custom</p></li>
</ul>
<p>The <a class="reference external" href="https://github.com/EVerest/libocpp/tree/main/config/v2/component_config">device model setup from libocpp</a> serves as a good example.
The split between the directories only has semantic reasons. The <strong>standardized</strong> directory usually does not need to be modified since it contains
standardized components and variables that the specification refers to in its functional requirements. The <strong>custom</strong> directory is meant to be used
for components that are custom for your specific charging station. Especially the number of EVSE and Connector components, as well as their
variables and values, need to be in line with the physical setup of the charging station.</p>
<p>Each device model component is represented by a JSON component config file. This config specifies the component and all its variables,
characteristics, attributes, and monitors. Please see <a class="reference external" href="https://github.com/EVerest/libocpp/blob/main/doc/v2/ocpp_201_device_model_initialization.md">the documentation for the device model initialization</a> for further information on how it is set up.</p>
<p>To add a custom component, you can simply add another JSON configuration file for it, and it will automatically be applied and reported.</p>
</section>
<section id="configuring-the-ocpp2-version">
<h2>Configuring the OCPP2 version<a class="headerlink" href="#configuring-the-ocpp2-version" title="Link to this heading"></a></h2>
<p>This module supports OCPP2.0.1 and OCPP2.1. The charging station and the CSMS agree on the protocol version to be used during the websocket
handshake. The charging station indicates which versions it supports in the Sec-WebSocket-Protocol header. This header is set based on
the device model configuration <strong>SupportedOcppVersions</strong> of the <strong>InternalCtrlr</strong>. The CSMS then selects the version to use and reports
it in the handshake response. Note that <strong>SupportedOcppVersions</strong> is a comma seperated list and allows you to specify the versions
in the order of preference.</p>
</section>
<section id="integration-in-everest">
<h2>Integration in EVerest<a class="headerlink" href="#integration-in-everest" title="Link to this heading"></a></h2>
<p>This module leverages <strong>libocpp</strong> <a class="reference external" href="https://github.com/EVerest/libocpp">https://github.com/EVerest/libocpp</a>, EVerests OCPP library. Libocpps approach to implementing the OCPP
protocol is to do as much work as possible as part of the library. It therefore fulfills a large amount of protocol requirements internally.
OCPP is a protocol that affects, controls, and monitors many areas of a charging stations operation though. It is therefore required to
integrate libocpp with other parts of EVerest. This integration is done by this module and will be explained in this section.</p>
<p>For a detailed description of libocpp and its functionalities, please refer to <a class="reference external" href="https://github.com/EVerest/libocpp">its documentation</a>.</p>
<p>The <a class="reference external" href="../manifest.yaml">manifest</a> of this module defines requirements and implementations of EVerest interfaces to integrate the OCPP communication
with other parts of EVerest. In order to describe how the responsibilities for functions and operations required by OCPP are divided between libocpp
and this module, the following sections pick up the requirements of this module and implementations one by one.</p>
<section id="provides-auth-validator">
<h3>Provides: auth_validator<a class="headerlink" href="#provides-auth-validator" title="Link to this heading"></a></h3>
<p><strong>Interface</strong>: <a class="reference external" href="../../interfaces/auth_token_validator.yaml">auth_token_validator</a></p>
<p>This interface is implemented to forward authorization requests from EVerest to libocpp. Libocpp contains the business logic to either validate the
authorization request locally using the authorization cache and local authorization list or to forward the request to the CSMS using an
<strong>Authorize.req</strong>. The implementation also covers the validation of Plug&amp;Charge authorization requests.</p>
</section>
<section id="provides-auth-provider">
<h3>Provides: auth_provider<a class="headerlink" href="#provides-auth-provider" title="Link to this heading"></a></h3>
<p><strong>Interface</strong>: <a class="reference external" href="../../interfaces/auth_token_provider.yaml">auth_token_provider</a></p>
<p>This interface is implemented to publish authorization requests from the CSMS within EVerest. An authorization request from the CSMS is implemented
by a <strong>RequestStartTransaction.req</strong>.</p>
</section>
<section id="provides-data-transfer">
<h3>Provides: data_transfer<a class="headerlink" href="#provides-data-transfer" title="Link to this heading"></a></h3>
<p><strong>Interface</strong>: <a class="reference external" href="../../interfaces/ocpp_data_transfer.yaml">ocpp_data_transfer</a></p>
<p>This interface is implemented to provide a command to initiate a <strong>DataTransfer.req</strong> from the charging station to the CSMS.</p>
</section>
<section id="provides-ocpp-generic">
<h3>Provides: ocpp_generic<a class="headerlink" href="#provides-ocpp-generic" title="Link to this heading"></a></h3>
<p><strong>Interface</strong>: <a class="reference external" href="../../interfaces/ocpp.yaml">ocpp</a></p>
<p>This interface is implemented to provide an API to control an OCPP service and to set and get OCPP-specific data.</p>
</section>
<section id="provides-session-cost">
<h3>Provides: session_cost<a class="headerlink" href="#provides-session-cost" title="Link to this heading"></a></h3>
<p><strong>Interface</strong>: <a class="reference external" href="../../interfaces/session_cost.yaml">session_cost</a></p>
<p>This interface is implemented to publish session costs received by the CSMS as part of the California Pricing whitepaper extension.</p>
</section>
<section id="requires-evse-manager">
<h3>Requires: evse_manager<a class="headerlink" href="#requires-evse-manager" title="Link to this heading"></a></h3>
<p><strong>Interface</strong>: <a class="reference external" href="../../interfaces/evse_manager.yaml">evse_manager</a></p>
<p>Typically the <a class="reference external" href="../EvseManager/">EvseManager</a> module is used to fulfill this requirement.</p>
<p>This module requires (1-128) implementations of this interface in order to integrate with the charge control logic of EVerest. One connection represents
one EVSE. In order to manage multiple EVSEs via one OCPP connection, multiple connections need to be configured in the EVerest config file.</p>
<p>This module makes use of the following commands of this interface:</p>
<ul class="simple">
<li><p><strong>get_evse</strong> to get the EVSE id of the module implementing the <strong>evse_manager</strong> interface at startup</p></li>
<li><p><strong>pause_charging</strong> to pause charging in case a <strong>TransactionEvent.conf</strong> indicates charging shall be paused</p></li>
<li><p><strong>stop_transaction</strong> to stop a transaction in case the CSMS stops a transaction by e.g. a <strong>RequestStopTransaction.req</strong></p></li>
<li><p><strong>force_unlock</strong> to force the unlock of a connector in case the CSMS sends a <strong>UnlockConnector.req</strong></p></li>
<li><p><strong>enable_disable</strong> to set the EVSE to operative or inoperative, e.g. in case the CSMS sends a <strong>ChangeAvailability.req</strong>. This command can be called from
different sources. It therefore contains an argument <strong>priority</strong> in order to override the status if required. OCPP2 uses a priority of 5000, which is
mid-range.</p></li>
<li><p><strong>set_external_limits</strong> to apply power or ampere limits at the EVSE received by the CSMS using the SmartCharging feature profile. Libocpp contains the
business logic to calculate the composite schedule for received charging profiles. This module gets notified in case charging profiles are added,
changed, or cleared. When notified, this module requests the composite schedule from libocpp and publishes the result via the
<a class="reference external" href="#provides-ocpp_generic">Provides: ocpp_generic</a> interface. The duration of the composite schedule can be configured by the configuration parameter
<strong>PublishChargingScheduleDurationS</strong> of this module. The configuration parameter <strong>PublishChargingScheduleIntervalS</strong> defines the interval to use to
periodically retrieve and publish the composite schedules. The configuration parameter <strong>RequestCompositeScheduleUnit</strong> can be used to specify the unit in
which composite schedules are requested and shared within EVerest.</p></li>
</ul>
<p>The interface is used to receive the following variables:</p>
<ul class="simple">
<li><p><strong>powermeter</strong> to push powermeter values of an EVSE. Libocpp initiates <strong>MeterValues.req</strong> and <strong>TransactionEvent.req</strong> for meter values internally and is
responsible for complying with the configured intervals and measurands for clock-aligned and sampled meter values.</p></li>
<li><p><strong>ev_info</strong> to obtain the state of charge (SoC) of an EV. If present, this is reported as part of a <strong>MeterValues.req</strong></p></li>
<li><p><strong>limits</strong> to obtain the current offered to the EV. If present, this is reported as part of a <strong>MeterValues.req</strong></p></li>
<li><p><strong>session_event</strong> to trigger <strong>StatusNotification.req</strong> and <strong>TransactionEvent.req</strong> based on the reported event. This signal drives the state machine and
the transaction handling of libocpp.</p></li>
<li><p><strong>waiting_for_external_ready</strong> to obtain the information that a module implementing this interface is waiting for an external ready signal</p></li>
<li><p><strong>ready</strong> to obtain a ready signal from a module implementing this interface</p></li>
</ul>
</section>
<section id="requires-connector-zero-sink">
<h3>Requires: connector_zero_sink<a class="headerlink" href="#requires-connector-zero-sink" title="Link to this heading"></a></h3>
<p><strong>Interface</strong>: <a class="reference external" href="../../interfaces/external_energy_limits.yaml">external_energy_limits</a></p>
<p>Typically the <a class="reference external" href="../EnergyNode/">EnergyNode</a> module is used to fulfill this requirement.</p>
<p>This module optionally requires the connection to a module implementing the <strong>external_energy_limits</strong> interface. This connection is used to apply power or
ampere limits at EVSE id zero received by the CSMS using the SmartCharging feature profile.</p>
<p>This module makes use of the following commands of this interface:
* <strong>set_external_limits</strong> to apply power or ampere limits at EVSE id zero received by the CSMS using the SmartCharging feature profile.</p>
</section>
<section id="requires-auth">
<h3>Requires: auth<a class="headerlink" href="#requires-auth" title="Link to this heading"></a></h3>
<p><strong>Interface</strong>: <a class="reference external" href="../../interfaces/auth.yaml">auth</a></p>
<p>Typically the <a class="reference external" href="../Auth/">Auth</a> module is used to fulfill this requirement.</p>
<p>This module requires a connection to a module implementing the <strong>auth</strong> interface. This connection is used to set the standardized <strong>ConnectionTimeout</strong>
configuration key if configured and/or changed by the CSMS.</p>
<p>This module makes use of the following commands of this interface:</p>
<ul class="simple">
<li><p><strong>set_connection_timeout</strong> which is e.g., called in case the CSMS uses a <strong>SetVariables.req(EVConnectionTimeout)</strong></p></li>
<li><p><strong>set_master_pass_group_id</strong> which is e.g., called in case the CSMS uses a <strong>SetVariables.req(MastrPassGroupId)</strong></p></li>
</ul>
</section>
<section id="requires-system">
<h3>Requires: system<a class="headerlink" href="#requires-system" title="Link to this heading"></a></h3>
<p><strong>Interface</strong>: <a class="reference external" href="../../interfaces/system.yaml">system</a></p>
<p>The <a class="reference external" href="../System/">System</a> module can be used to fulfill this requirement. Note that this module is not meant to be used in production systems without any
modification!</p>
<p>This module requires a connection to a module implementing the <strong>system</strong> interface. This connection is used to execute and control system-wide operations that
can be triggered by the CSMS, like log uploads, firmware updates, and resets.</p>
<p>This module makes use of the following commands of this interface:</p>
<ul class="simple">
<li><p><strong>update_firmware</strong> to forward a <strong>FirmwareUpdate.req</strong> message from the CSMS</p></li>
<li><p><strong>allow_firmware_installation</strong> to notify the module that the installation of the firmware is now allowed. A prerequisite for this is that all EVSEs are set
to inoperative. This module and libocpp take care of setting the EVSEs to inoperative before calling this command.</p></li>
<li><p><strong>upload_logs</strong> to forward a <strong>GetLog.req</strong> message from the CSMS</p></li>
<li><p><strong>is_reset_allowed</strong> to check if a <strong>Reset.req</strong> message from the CSMS shall be accepted or rejected</p></li>
<li><p><strong>reset</strong> to perform a reset in case of a <strong>Reset.req</strong> message from the CSMS</p></li>
<li><p><strong>set_system_time</strong> to set the system time communicated by a <strong>BootNotification.conf</strong> or <strong>Heartbeat.conf</strong> messages from the CSMS</p></li>
<li><p><strong>get_boot_reason</strong> to obtain the boot reason to use it as part of the <strong>BootNotification.req</strong> at startup</p></li>
</ul>
<p>The interface is used to receive the following variables:</p>
<ul class="simple">
<li><p><strong>log_status</strong> to obtain the log update status. This triggers a <strong>LogStatusNotification.req</strong> message to inform the CSMS about the current status. This signal is
expected as a result of an <strong>upload_logs</strong> command.</p></li>
<li><p><strong>firmware_update_status</strong> to obtain the firmware update status. This triggers a <strong>FirmwareStatusNotification.req</strong> message to inform the CSMS about the current
status. This signal is expected as a result of an <strong>update_firmware</strong> command.</p></li>
</ul>
</section>
<section id="requires-security">
<h3>Requires: security<a class="headerlink" href="#requires-security" title="Link to this heading"></a></h3>
<p><strong>Interface</strong>: <a class="reference external" href="../../interfaces/evse_security.yaml">evse_security</a></p>
<p>This module requires a connection to a module implementing the <strong>evse_security</strong> interface. This connection is used to execute security-related operations and to
manage certificates and private keys.</p>
<p>Typically the <a class="reference external" href="../EvseSecurity/">EvseSecurity</a> module is used to fulfill this requirement.</p>
<p>This module makes use of the following commands of this interface:</p>
<ul class="simple">
<li><p><strong>install_ca_certificate</strong> to handle an <strong>InstallCertificate.req</strong> message from the CSMS</p></li>
<li><p><strong>delete_certificate</strong> to handle a <strong>DeleteCertificate.req</strong> message from the CSMS</p></li>
<li><p><strong>update_leaf_certificate</strong> to handle a <strong>CertificateSigned.req</strong> message from the CSMS</p></li>
<li><p><strong>verify_certificate</strong> to verify certificates from the CSMS that are sent as part of <strong>UpdateFirmware.req</strong> or to validate the contract certificate used for
Plug&amp;Charge.</p></li>
<li><p><strong>get_installed_certificates</strong> to handle a <strong>GetInstalledCertificateIds.req</strong> message from the CSMS</p></li>
<li><p><strong>get_v2g_ocsp_request_data</strong> to update the OCSP cache of V2G sub-CA certificates using <strong>GetCertificateStatus.req</strong>. Triggering this message is handled by
libocpp internally</p></li>
<li><p><strong>get_mo_ocsp_request_data</strong> to include the <strong>iso15118CertificateHashData</strong> as part of an <strong>Authorize.req</strong> for Plug&amp;Charge if required</p></li>
<li><p><strong>update_ocsp_cache</strong> to update the OCSP cache, which is part of a <strong>GetCertificateStatus</strong> message from the CSMS</p></li>
<li><p><strong>is_ca_certificate_installed</strong> to verify if a certain CA certificate is installed</p></li>
<li><p><strong>generate_certificate_signing_request</strong> to generate a CSR that can be used as part of a <strong>SignCertificate.req</strong> message to the CSMS to generate or update the
SECC or CSMS leaf certificates</p></li>
<li><p><strong>get_leaf_certificate_info</strong> to get the certificate and private key path of the CSMS client certificate used for security profile 3</p></li>
<li><p><strong>get_verify_file</strong> to get the path to a CA bundle that can be used for verifying, e.g., the CSMS TLS server certificate</p></li>
<li><p><strong>get_leaf_expiry_days_count</strong> to determine when a leaf certificate expires. This information is used by libocpp in order to renew leaf certificates in case
they expire soon</p></li>
</ul>
<p>Note that a lot of conversion between the libocpp types and the generated EVerest types are required for the given commands. Since the
conversion functionality is used by this OCPP2 module and the OCPP1.6 module, it is implemented as a
<a class="reference external" href="../../../../../lib/everest/conversions/ocpp/">separate library</a> .</p>
</section>
<section id="requires-data-transfer">
<h3>Requires: data_transfer<a class="headerlink" href="#requires-data-transfer" title="Link to this heading"></a></h3>
<p><strong>Interface</strong>: <a class="reference external" href="../../interfaces/ocpp_data_transfer.yaml">ocpp_data_transfer</a></p>
<p>This module optionally requires a connection to a module implementing the <strong>ocpp_data_transfer</strong> interface. This connection is used to handle <strong>DataTransfer.req</strong>
messages from the CSMS. A module implementing this interface can contain custom logic to handle the requests from the CSMS.</p>
<p>This module makes use of the following commands of this interface:</p>
<ul class="simple">
<li><p><strong>data_transfer</strong> to forward <strong>DataTransfer.req</strong> messages from the CSMS</p></li>
</ul>
</section>
<section id="requires-display-message">
<h3>Requires: display_message<a class="headerlink" href="#requires-display-message" title="Link to this heading"></a></h3>
<p><strong>Interface</strong>: <a class="reference external" href="../../interfaces/display_message.yaml">display_message</a></p>
<p>This module optionally requires a connection to a module implementing the <strong>display_message</strong> interface. This connection is used to allow the CSMS to display pricing
or other information on the display of a charging station. In order to fulfill the requirements of the California Pricing whitepaper, it is required to connect a
module implementing this interface.</p>
<p>This module makes use of the following commands of this interface:</p>
<ul class="simple">
<li><p><strong>set_display_message</strong> to set a message on the charging stations display. This is executed when the CSMS sends a <strong>SetDisplayMessage.req</strong> message to the charging station.</p></li>
<li><p><strong>get_display_messages</strong> to forward a <strong>GetDisplayMessage.req</strong> from the CSMS</p></li>
<li><p><strong>clear_display_message</strong> to forward a <strong>ClearDisplayMessage.req</strong> from the CSMS</p></li>
</ul>
</section>
<section id="requires-extensions-15118">
<h3>Requires: extensions_15118<a class="headerlink" href="#requires-extensions-15118" title="Link to this heading"></a></h3>
<p><strong>Interface</strong>: <a class="reference external" href="../../interfaces/iso15118_extensions.yaml">iso15118_extensions</a></p>
<p>This module optionally requires (0-128) implementations of this interface in order to share data between ISO15118 and OCPP modules. One
connection represents one ISO15118 module.</p>
<p>This module makes use of the following commands of this interface:</p>
<ul class="simple">
<li><p><strong>set_get_certificate_response</strong> to report that the charging station received a <strong>DataTransfer.conf(Get15118EVCertificateResponse)</strong> from
the CSMS (EV Contract installation for Plug&amp;Charge)</p></li>
</ul>
<p>The interface is used to receive the following variables:</p>
<ul class="simple">
<li><p><strong>iso15118_certificate_request</strong> to trigger a <strong>DataTransfer.req(Get15118EVCertificateRequest)</strong> as part of the Plug&amp;Charge process</p></li>
</ul>
</section>
</section>
<section id="error-handling">
<h2>Error Handling<a class="headerlink" href="#error-handling" title="Link to this heading"></a></h2>
<p>The <strong>enable_global_errors</strong> flag for this module is true in its manifest. This module is
therefore able to retrieve and process all reported errors from other
modules that are loaded in the same EVerest configuration.</p>
<p>The error reporting via OCPP2 follows the Minimum Required Error Codes (MRECS): <a class="reference external" href="https://inl.gov/chargex/mrec/">https://inl.gov/chargex/mrec/</a> . This proposes a unified methodology
to define and classify a minimum required set of error codes and how to report them via OCPP2.</p>
<section id="statusnotification">
<h3>StatusNotification<a class="headerlink" href="#statusnotification" title="Link to this heading"></a></h3>
<p>In contrast to OCPP1.6, error information is not transmitted as part of the StatusNotification.req.
A <strong>StatusNotification.req</strong> with status <strong>Faulted</strong> will be set to faulted only in case the error received is of the special type <strong>evse_manager/Inoperative</strong>.
This indicates that the EVSE is inoperative (not ready for energy transfer).</p>
<p>In OCPP2 errors can be reported using the <strong>NotifyEventRequest.req</strong>. This message is used to report all other errros received.</p>
</section>
<section id="current-limitation">
<h3>Current Limitation<a class="headerlink" href="#current-limitation" title="Link to this heading"></a></h3>
<p>In OCPP2 errors can be reported using the <strong>NotifyEventRequest</strong>
message. The <strong>eventData</strong> property carries the relevant information.</p>
<p>This format of reporting errors deviates from the mechanism used within
EVerest. This data structure forces to map an error to a
component-variable combination. This requires a mapping
mechanism between EVerest errors and component-variable
combination.</p>
<p>Currently this module maps the Error to one of these three Components:</p>
<ul class="simple">
<li><p>ChargingStation (if error.origin.mapping.evse is not set or 0)</p></li>
<li><p>EVSE (error.origin.mapping.evse is set and error.origin.mapping.connector is not set)</p></li>
<li><p>Connector (error.origin.mapping.evse is set and error.origin.mapping.connector is set)</p></li>
</ul>
<p>The Variable used as part of the NotifyEventRequest is constantly defined to <strong>Problem</strong> for now.</p>
<p>The goal is to have a more advanced mapping of reported errors to the respective component-variable combinations in the future.</p>
</section>
</section>
<section id="certificate-management">
<h2>Certificate Management<a class="headerlink" href="#certificate-management" title="Link to this heading"></a></h2>
<p>Two leaf certificates are managed by the OCPP communication enabled by this module:</p>
<ul class="simple">
<li><p>CSMS Leaf certificate (used for mTLS for SecurityProfile3)</p></li>
<li><p>SECC Leaf certificate (Server certificate for ISO15118)</p></li>
</ul>
<p>60 seconds after the first <strong>BootNotification.req</strong> message has been accepted by the CSMS, the charging station will check if the existing
certificates are not present or have been expired. If this is the case, the charging station initiates the process of requesting a new
certificate by sending a certificate signing request to CSMS.</p>
<p>For the CSMS Leaf certificate, this process is only triggered if SecurityProfile 3 is used.</p>
<p>For the SECC Leaf certificate, this process is only triggered if Plug&amp;Charge is enabled by
setting the <strong>ISO15118Ctrlr.V2GCertificateInstallationEnabled</strong> to <strong>true</strong>.</p>
<p>If a certificate has expired is then periodically checked every 12 hours.</p>
<p>In addition to that, the charging station periodically updates the OCSP responses of the sub-CA certificates of the V2G certificate chain.
The OCSP response is cached and can be used as part of the ISO15118 TLS handshake with EVs. The OCSP update is by default performed
every seven days. The timestamp of the last update is stored persistently, so that this process is not necessarily performed
at every start up.</p>
</section>
<section id="energy-management-and-smart-charging-integration">
<h2>Energy Management and Smart Charging Integration<a class="headerlink" href="#energy-management-and-smart-charging-integration" title="Link to this heading"></a></h2>
<p>OCPP2 defines the SmartCharging feature profile to allow the CSMS to control or influence the power consumption of the charging station.
This module integrates the composite schedule(s) within EVerests energy management. For further information about smart charging and the
composite schedule calculation please refer to the OCPP2.0.1 or OCPP2.1 specification.</p>
<p>The integration of the composite schedules is implemented through the optional requirement(s) <cite>evse_energy_sink</cite> (interface: <cite>external_energy_limits</cite>)
of this module. Depending on the number of EVSEs configured, each composite limit is communicated via a seperate sink, including the composite schedule
for EVSE with id 0 (representing the whole charging station). The easiest way to explain this is with an example. If your charging station
has two EVSEs you need to connect three modules that implement the <cite>external_energy_limits</cite> interface: One representing evse id 0 and
two representing your actual EVSEs.</p>
<p> <strong>Note:</strong> You have to configure an evse mapping for each module connected via the evse_energy_sink connection. This allows the module to identify
which requirement to use when communicating the limits for the EVSEs. For more information about the module mapping please see
<a class="reference external" href="https://everest.github.io/nightly/general/05_existing_modules.html#tier-module-mappings">3-tier module mappings</a>.</p>
<p>This module defines a callback that gets executed every time charging profiles are changed, added or removed by the CSMS. The callback retrieves
the composite schedules for all EVSEs (including evse id 0) and calls the <cite>set_external_limits</cite> command of the respective requirement that implements
the <cite>external_energy_limits</cite> interface. In addition, the config parameter <cite>CompositeScheduleIntervalS</cite> defines a periodic interval to retrieve
the composite schedule also in case no charging profiles have been changed. The configuration parameter <cite>RequestCompositeScheduleDurationS</cite> defines
the duration in seconds of the requested composite schedules starting now. The value configured for <cite>RequestCompositeScheduleDurationS</cite> shall be greater
than the value configured for <cite>CompositeScheduleIntervalS</cite> because otherwise time periods could be missed by the application.</p>
</section>
<section id="device-model-implementation-details">
<h2>Device model implementation details<a class="headerlink" href="#device-model-implementation-details" title="Link to this heading"></a></h2>
<p>For managing configuration and telemetry data of a charging station, the OCPP2 specification introduces
a device model that is very different to the design of OCPP1.6.
The specified device model comes with these high-level requirements:</p>
<ul class="simple">
<li><p>3-tier model: Break charging station down into 3 main tiers: ChargingStation, EVSE and Connector</p></li>
<li><p>Components and Variables: Break down charging station into components and variables for configuration and telemetry</p></li>
<li><p>Complex data structure for reporting and configuration of variables</p></li>
<li><p>Device model contains variables of the whole charging station, beyond OCPP business logic</p></li>
</ul>
<p>The device model of OCPP2 can contain various physical or logical components and
variables. While in OCPP1.6 almost all of the standardized configuration keys are used to influence the control flow of
libocpp, in OCPP2 the configuration and telemetry variables that can be part of the device model go beyond the
control or reporting capabilities of only libocpp. Still there is a large share of standardized variables in OCPP2
that do influence the control flow of libocpp.</p>
<section id="internally-and-externally-managed-variables">
<h3>Internally and externally managed variables<a class="headerlink" href="#internally-and-externally-managed-variables" title="Link to this heading"></a></h3>
<p>EVerest has multiple different data sources that control the values variables that OCPP requires to report to the CSMS.
It is therefore required to make a distinction between <strong>internally</strong> and <strong>externally</strong> managed variables of the device model.</p>
<p>We define <strong>internally</strong> and <strong>externally</strong> managed variables as follows:</p>
<ul class="simple">
<li><p>Internally Managed: Owned, stored and accessed in libocpp in device model storage
Examples: HeartbeatInterval, AuthorizeRemoteStart, SampledDataTxEndedMeasurands, AuthCacheStorage</p></li>
<li><p>Externally Managed: Owned, stored and accessed via EVerest config service (not yet supported)
Examples: ConnectionTimeout, MasterPassGroupId</p></li>
<li><p>For externally managed variables a mapping to the EVerest configuration parameter is defined (not yet supported)</p></li>
</ul>
<p>Note that the EVerest config service is not yet implemented. Currently all components and variables are controlled
by the libocpp device model storage implementation.</p>
</section>
<section id="device-model-implementation-of-this-module">
<h3>Device Model Implementation of this module<a class="headerlink" href="#device-model-implementation-of-this-module" title="Link to this heading"></a></h3>
<p>This module provides an implementation of device model API provided as part of libocpp (it implements
<cite>device_model_storage_interface.hpp</cite>).
The implementation is designed to fullfill the requirements of the device model API even if the components and variables are
controlled by different sources (Internally, Externally).</p>
</section>
<section id="device-model-sources">
<h3>Device Model Sources<a class="headerlink" href="#device-model-sources" title="Link to this heading"></a></h3>
<p>Device Model variables are defined in JSON component configs. For each variable a property <cite>source</cite> can be used to define
the source that controls it. This design allows for a single source of truth for each variable and it
allows the device model implementation of this module to address the correct source for the requested operation.
Today <cite>OCPP</cite> is the only supported source for internally managed variables.</p>
<p>Sources for externally managed configuration variables like the EVerest config service are under development.</p>
</section>
<section id="sequence-of-variable-access-for-internally-and-externally-managed-variables">
<h3>Sequence of variable access for internally and externally managed variables<a class="headerlink" href="#sequence-of-variable-access-for-internally-and-externally-managed-variables" title="Link to this heading"></a></h3>
<img alt="../../../_images/sequence_config_service_and_ocpp.png" src="../../../_images/sequence_config_service_and_ocpp.png" />
</section>
<section id="class-diagram-for-device-model">
<h3>Class diagram for device model<a class="headerlink" href="#class-diagram-for-device-model" title="Link to this heading"></a></h3>
<img alt="../../../_images/device_model_class_diagram.png" src="../../../_images/device_model_class_diagram.png" />
<p>Clarification of the device model classes of this diagram:</p>
<ul class="simple">
<li><p>DeviceModel:</p>
<ul>
<li><p>Part of libocpp</p></li>
<li><p>Contains device model representation and business logic to prevalidate requests to the device model variables</p></li>
<li><p>Contains reference to device model interface implementation</p></li>
</ul>
</li>
<li><p>DeviceModelStorageInterface:</p>
<ul>
<li><p>Pure virtual class of libocpp</p></li>
<li><p>Defines contract for device model implementations</p></li>
</ul>
</li>
<li><p>DeviceModelStorageSqlite</p>
<ul>
<li><p>Implements DeviceModelStorageInterface as part of libocpp</p></li>
<li><p>This storage holds internally managed variables</p></li>
</ul>
</li>
<li><p>EverestDeviceModelStorage</p>
<ul>
<li><p>Implements DeviceModelStorageInterface as part of everest-core (OCPP201 module)</p></li>
<li><p>Uses EVerest config service to retrieve configuration variables of EVerest modules</p></li>
</ul>
</li>
<li><p>ComposedDeviceModelStorage</p>
<ul>
<li><p>(Final) implementation of DeviceModelStorageInterface as part of everest-core (OCPP201 module)</p></li>
<li><p>A reference of this class will be passed to libocpps ChargePoint constructor</p></li>
<li><p>Differentiates between externally and internally managed variables</p></li>
</ul>
</li>
</ul>
</section>
</section>
</section>

        </article>
      </div>
      <footer>
        
        <div class="related-pages">
          <a class="next-page" href="../OCPPExtensionExample/index.html">
              <div class="page-info">
                <div class="context">
                  <span>Next</span>
                </div>
                <div class="title">OCPPExtensionExample</div>
              </div>
              <svg class="furo-related-icon"><use href="#svg-arrow-right"></use></svg>
            </a>
          <a class="prev-page" href="../OCPP/index.html">
              <svg class="furo-related-icon"><use href="#svg-arrow-right"></use></svg>
              <div class="page-info">
                <div class="context">
                  <span>Previous</span>
                </div>
                
                <div class="title">OCPP1.6 Module</div>
                
              </div>
            </a>
        </div>
        <div class="bottom-of-page">
          <div class="left-details">
            <div class="copyright">
                Copyright &#169; 2021-2025, EVerest community
            </div>
            Made with <a href="https://www.sphinx-doc.org/">Sphinx</a> and <a class="muted-link" href="https://pradyunsg.me">@pradyunsg</a>'s
            
            <a href="https://github.com/pradyunsg/furo">Furo</a>
            
          </div>
          <div class="right-details">
            
          </div>
        </div>
        
      </footer>
    </div>
    <aside class="toc-drawer">
      
      
      <div class="toc-sticky toc-scroll">
        <div class="toc-title-container">
          <span class="toc-title">
            On this page
          </span>
        </div>
        <div class="toc-tree-container">
          <div class="toc-tree">
            <ul>
<li><a class="reference internal" href="#">OCPP 2.1 and 2.0.1 Module</a><ul>
<li><a class="reference internal" href="#module-configuration">Module configuration</a></li>
<li><a class="reference internal" href="#configuring-the-ocpp2-version">Configuring the OCPP2 version</a></li>
<li><a class="reference internal" href="#integration-in-everest">Integration in EVerest</a><ul>
<li><a class="reference internal" href="#provides-auth-validator">Provides: auth_validator</a></li>
<li><a class="reference internal" href="#provides-auth-provider">Provides: auth_provider</a></li>
<li><a class="reference internal" href="#provides-data-transfer">Provides: data_transfer</a></li>
<li><a class="reference internal" href="#provides-ocpp-generic">Provides: ocpp_generic</a></li>
<li><a class="reference internal" href="#provides-session-cost">Provides: session_cost</a></li>
<li><a class="reference internal" href="#requires-evse-manager">Requires: evse_manager</a></li>
<li><a class="reference internal" href="#requires-connector-zero-sink">Requires: connector_zero_sink</a></li>
<li><a class="reference internal" href="#requires-auth">Requires: auth</a></li>
<li><a class="reference internal" href="#requires-system">Requires: system</a></li>
<li><a class="reference internal" href="#requires-security">Requires: security</a></li>
<li><a class="reference internal" href="#requires-data-transfer">Requires: data_transfer</a></li>
<li><a class="reference internal" href="#requires-display-message">Requires: display_message</a></li>
<li><a class="reference internal" href="#requires-extensions-15118">Requires: extensions_15118</a></li>
</ul>
</li>
<li><a class="reference internal" href="#error-handling">Error Handling</a><ul>
<li><a class="reference internal" href="#statusnotification">StatusNotification</a></li>
<li><a class="reference internal" href="#current-limitation">Current Limitation</a></li>
</ul>
</li>
<li><a class="reference internal" href="#certificate-management">Certificate Management</a></li>
<li><a class="reference internal" href="#energy-management-and-smart-charging-integration">Energy Management and Smart Charging Integration</a></li>
<li><a class="reference internal" href="#device-model-implementation-details">Device model implementation details</a><ul>
<li><a class="reference internal" href="#internally-and-externally-managed-variables">Internally and externally managed variables</a></li>
<li><a class="reference internal" href="#device-model-implementation-of-this-module">Device Model Implementation of this module</a></li>
<li><a class="reference internal" href="#device-model-sources">Device Model Sources</a></li>
<li><a class="reference internal" href="#sequence-of-variable-access-for-internally-and-externally-managed-variables">Sequence of variable access for internally and externally managed variables</a></li>
<li><a class="reference internal" href="#class-diagram-for-device-model">Class diagram for device model</a></li>
</ul>
</li>
</ul>
</li>
</ul>

          </div>
        </div>
      </div>
      
      
    </aside>
  </div>
</div><script src="../../../_static/documentation_options.js?v=f1f14d95"></script>
    <script src="../../../_static/doctools.js?v=9bcbadda"></script>
    <script src="../../../_static/sphinx_highlight.js?v=dc90522c"></script>
    <script src="../../../_static/scripts/furo.js?v=46bd48cc"></script>
    <script src="../../../_static/clipboard.min.js?v=a7894cd8"></script>
    <script src="../../../_static/copybutton.js?v=f281be69"></script>
    <script src="../../../_static/design-tabs.js?v=f930bc37"></script>
    </body>
</html>