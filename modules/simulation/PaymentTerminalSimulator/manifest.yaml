description: >-
  Simulated Payment Terminal module for SIL testing.
  Can provide both, pre-validated and non pre-validated tokens, in order to simulate closed-loop (RFID) and open-loop (VISA, giro, ...) cards.
config:
  currency:
    description: Currency in ISO 4217 format.
    default: 978
    type: integer
  pre_authorization_amount:
    description: Pre authentication amount in minimal accountable unit (cents).
    default: 5000
    type: integer
  token_debounce_interval_ms:
    description: Minimal wait time in ms until next token will be published. 
    default: 2000
    type: integer
  simulated_PT_has_open_preauthorizations:
    description: A real PT could have open transaction in its memory, when the module is initialized.
    default: false
    type: boolean
  session_timeout_s:
    description: Time a payment session is allowed to be active. Charging is forced to stop when time runs out.
    default: 50
    type: integer
requires:
  total_amount_provider:
    interface: payment_total_amount_provider
#  session_token_provider:
#    interface: bank_session_token_provider
provides:
  token_provider:
    interface: auth_token_provider
    description: Provides authentication tokens.
enable_external_mqtt: true
metadata:
  license: https://opensource.org/licenses/Apache-2.0
  authors:
    - Christoph Burandt (Pionix GmbH)
