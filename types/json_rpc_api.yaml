description: JSON RPC API types
types:
  ResponseErrorEnum:
    description: Enumeration to differentiate between the various error cases that can occur after a method request
    type: string
    enum:
    - NoError
    - ErrorInvalidParameter
    - ErrorOutOfRange
    - ErrorValuesNotApplied
    - ErrorInvalidEVSEID
    - ErrorNoDataAvailable
    - ErrorUnknownError
  ChargeProtocolEnum:
    description: Charge protocol
    type: string
    enum:
    - Unknown
    - IEC61851
    - DIN70121
    - ISO15118
    - ISO15118_20
  EVSEStateEnum:
    description: EVSE state
    type: string
    enum:
    - Unplugged
    - Disabled
    - Preparing
    - Reserved
    - AuthRequired
    - WaitingForEnergy
    - Charging
    - ChargingPausedEV
    - ChargingPausedEVSE
    - Finished
  ConnectorTypeEnum:
    description: Enumerator of connector types
    type: string
    enum:
    - cCCS1
    - cCCS2
    - cG105
    - cTesla
    - cType1
    - cType2
    - s309_1P_16A
    - s309_1P_32A
    - s309_3P_16A
    - s309_3P_32A
    - sBS1361
    - sCEE_7_7
    - sType2
    - sType3
    - Other1PhMax16A
    - Other1PhOver16A
    - Other3Ph
    - Pan
    - wInductive
    - wResonant
    - Undetermined
    - Unknown
  EVSEErrorEnum:
    description: >-
      EVSEErrorEnum can be used to show more details of an EVSE error for example in a service tool application for the technician. The enum naming is identical to EVerest error handler semantic.
    type: string
    enum:
    - NoError
  # FIXME these should probably be transparent via EVerest error interface
  #   - power_supply_DC/HardwareFault
  #   - power_supply_DC/OverTemperature
  #   - power_supply_DC/UnderTemperature
  #   - power_supply_DC/UnderVoltageAC
  #   - power_supply_DC/OverVoltageAC
  #   - power_supply_DC/UnderVoltageDC
  #   - power_supply_DC/OverVoltageDC
  #   - power_supply_DC/OverCurrentAC
  #   - power_supply_DC/OverCurrentDC
  #   - power_supply_DC/VendorError
  #   - power_supply_DC/VendorWarning
  #   - evse_board_support/MREC2GroundFailure
  #   - evse_board_support/MREC3HighTemperature
  #   - evse_board_support/MREC4OverCurrentFailure
  #   - evse_board_support/MREC5OverVoltage
  #   - evse_board_support/MREC6UnderVoltage
  #   - evse_board_support/MREC8EmergencyStop
  #   - evse_board_support/MREC10InvalidVehicleMode
  #   - evse_board_support/MREC14PilotFault
  #   - evse_board_support/MREC15PowerLoss
  #   - evse_board_support/MREC17EVSEContactorFault
  #   - evse_board_support/MREC18CableOverTempDerate
  #   - evse_board_support/MREC19CableOverTempStop
  #   - evse_board_support/MREC20PartialInsertion
  #   - evse_board_support/MREC23ProximityFault
  #   - evse_board_support/MREC24ConnectorVoltageHigh
  #   - evse_board_support/MREC25BrokenLatch
  #   - evse_board_support/MREC26CutCable

  # data type sub-objects
  ChargerInfoObj:
    description: Information about the charger
    type: object
    required:
      - vendor
      - model
      - serial
      - firmware_version
    properties:
      vendor:
        description: EVSE vendor
        type: string
      model:
        description: EVSE model
        type: string
      serial:
        description: EVSE serial number
        type: string
      friendly_name:
        description: EVSE friendly name
        type: string
      manufacturer:
        description: EVSE manufacturer
        type: string
      manufacturer_url:
        description: Manufacturer's URL
        type: string
      model_url:
        description: EVSE model's URL
        type: string
      model_no:
        description: EVSE model number
        type: string
      revision:
        description: EVSE model revision
        type: string
      board_revision:
        description: EVSE board revision
        type: string
      firmware_version:
        description: EVSE firmware version
        type: string
  ConnectorInfoObj:
    description: Static information about a connector of an EVSE
    type: object
    additionalProperties: false
    required:
      - id
      - type
    properties:
      id:
        description: Unique identifier
        type: integer
      type:
        description: Connector type
        type: object
        $ref: /json_rpc_api#/ConnectorTypeEnum

      description:
        description: Description
        type: string
  ACChargeParametersObj:
    description: AC related parameters of a charge point EVSE
    type: object
    additionalProperties: false
    required:
      - evse_maximum_charge_power
      - evse_minimum_charge_power
      - evse_nominal_frequency
    properties:
      evse_nominal_voltage:
        description: evse_nominal_voltage
        type: number
      evse_max_current:
        description: evse_max_current
        type: number
      evse_maximum_charge_power:
        description: evse_maximum_charge_power
        type: number
      evse_minimum_charge_power:
        description: evse_minimum_charge_power
        type: number
      evse_nominal_frequency:
        description: evse_nominal_frequency
        type: number
      evse_maximum_discharge_power:
        description: evse_maximum_discharge_power
        type: number
      evse_minimum_discharge_power:
        description: evse_minimum_discharge_power
        type: number
  DCChargeParametersObj:
    description: DC related parameters of a charge point EVSE
    type: object
    additionalProperties: false
    required:
      - evse_maximum_charge_current
      - evse_maximum_charge_power
      - evse_maximum_voltage
      - evse_minimum_charge_current
      - evse_minimum_charge_power
      - evse_minimum_voltage
    properties:
      evse_maximum_charge_current:
        description: evse_maximum_charge_current
        type: number
      evse_maximum_charge_power:
        description: evse_maximum_charge_power
        type: number
      evse_maximum_voltage:
        description: evse_maximum_voltage
        type: number
      evse_minimum_charge_current:
        description: evse_minimum_charge_current
        type: number
      evse_minimum_charge_power:
        description: evse_minimum_charge_power
        type: number
      evse_minimum_voltage:
        description: evse_minimum_voltage
        type: number
      evse_energy_to_be_delivered:
        description: evse_energy_to_be_delivered
        type: number
      evse_maximum_discharge_current:
        description: evse_maximum_discharge_current
        type: number
      evse_maximum_discharge_power:
        description: evse_maximum_discharge_power
        type: number
      evse_minimum_discharge_current:
        description: evse_minimum_discharge_current
        type: number
      evse_minimum_discharge_power:
        description: evse_minimum_discharge_power
        type: number
  ACChargeLoopObj:
    description: AC related parameters during charging of a charge point EVSE
    type: object
    additionalProperties: false
    required:
      - evse_active_phase_count
    properties:
      evse_active_phase_count:
        description: evse_active_phase_count
        type: integer
  DCChargeLoopObj:
    description: DC related parameters during charging of a charge point EVSE
    type: object
    additionalProperties: false
    required:
      - evse_present_current
      - evse_present_voltage
      - evse_power_limit_achieved
      - evse_current_limit_achieved
      - evse_voltage_limit_achieved
    properties:
      evse_present_current:
        description: evse_present_current
        type: number
      evse_present_voltage:
        description: evse_present_voltage
        type: number
      evse_power_limit_achieved:
        description: evse_power_limit_achieved
        type: boolean
      evse_current_limit_achieved:
        description: evse_current_limit_achieved
        type: boolean
      evse_voltage_limit_achieved:
        description: evse_voltage_limit_achieved
        type: boolean
  DisplayParametersObj:
    description: Additional information which can be displayed in a GUI
    type: object
    additionalProperties: false
    properties:
      start_soc:
        description: start_soc
        type: integer
      present_soc:
        description: present_soc
        type: integer
      minimum_soc:
        description: minimum_soc
        type: integer
      target_soc:
        description: target_soc
        type: integer
      maximum_soc:
        description: maximum_soc
        type: integer
      remaining_time_to_minimum_soc:
        description: remaining_time_to_minimum_soc
        type: integer
      remaining_time_to_target_soc:
        description: remaining_time_to_target_soc
        type: integer
      remaining_time_to_maximum_soc:
        description: remaining_time_to_maximum_soc
        type: integer
      charging_complete:
        description: charging_complete
        type: boolean
      battery_energy_capacity:
        description: battery_energy_capacity
        type: number
      inlet_hot:
        description: inlet_hot
        type: boolean
  ChargerInfoObj:
    description: Well-known general charger information
    type: object
    additionalProperties: false
    required:
      - vendor
      - model
      - serial
      - firmware_version
    properties:
      vendor:
        description: vendor
        type: string
      model:
        description: model
        type: string
      serial:
        description: serial
        type: string
      friendly_name:
        description: friendly_name
        type: string
      manufacturer:
        description: manufacturer
        type: string
      manufacturer_url:
        description: manufacturer_url
        type: string
      model_url:
        description: model_url
        type: string
      model_no:
        description: model_no
        type: string
      revision:
        description: revision
        type: string
      board_revision:
        description: board_revision
        type: string
      firmware_version:
        description: firmware_version
        type: string
  HardwareCapabilitiesObj:
    description: Hardware capabilities
    type: object
    additionalProperties: false
    required:
      - max_current_A_export
      - max_current_A_import
      - max_phase_count_export
      - max_phase_count_import
      - min_current_A_export
      - min_current_A_import
      - min_phase_count_export
      - min_phase_count_import
      - phase_switch_during_charging
    properties:
      max_current_A_export:
        type: number
      max_current_A_import:
        type: number
      max_phase_count_export:
        type: number
      max_phase_count_import:
        type: number
      min_current_A_export:
        type: number
      min_current_A_import:
        type: number
      min_phase_count_export:
        type: integer
      min_phase_count_import:
        type: integer
      phase_switch_during_charging:
        type: boolean
  EVSEInfoObj:
    description: Information about the EVSE
    type: object
    required:
      - id
      - available_connectors
      - bidi_charging
    properties:
      id:
        description: Unique identifier
        type: string
      description:
        description: Description
        type: string
      available_connectors:
        description: Available connectors
        type: array
        items:
          description: Connector infomation object
          type: object
          $ref: /json_rpc_api#/ConnectorInfoObj
      bidi_charging:
        description: Whether bidirectional charging is supported
        type: boolean
  EVSEStatusObj:
    description: All information about the current status of a charge point EVSE
    type: object
    additionalProperties: false
    required:
      - charged_energy_wh
      - discharged_energy_wh
      - charging_duration_s
      - charging_allowed
      - available
      - active_connector_id
      - evse_error
      - charge_protocol
      - state
    properties:
      charged_energy_wh:
        description: charged_energy_wh
        type: number
      discharged_energy_wh:
        description: discharged_energy_wh
        type: number
      charging_duration_s:
        description: charging_duration_s
        type: integer
      charging_allowed:
        description: charging_allowed
        type: boolean
      available:
        description: available
        type: boolean
      active_connector_id:
        description: active_connector_id
        type: integer
      evse_error:
        description: evse_error
        type: object
        $ref: /json_rpc_api#/EVSEErrorEnum
      charge_protocol:
        description: charge_protocol
        type: object
        $ref: /json_rpc_api#/ChargeProtocolEnum
      ac_charge_param:
        description: ac_charge_param
        type: object
        $ref: /json_rpc_api#/ACChargeParametersObj
      dc_charge_param:
        description: dc_charge_param
        type: object
        $ref: /json_rpc_api#/DCChargeParametersObj
      ac_charge_loop:
        description: ac_charge_loop
        type: object
        $ref: /json_rpc_api#/ACChargeLoopObj
      dc_charge_loop:
        description: dc_charge_loop
        type: object
        $ref: /json_rpc_api#/DCChargeLoopObj
      display_parameters:
        description: display_parameters
        type: object
        $ref: /json_rpc_api#/DisplayParametersObj
      state:
        description: state
        type: object
        $ref: /json_rpc_api#/EVSEStateEnum
  MeterDataObj:
    description: Meter data of a charge point EVSE
    type: object
    additionalProperties: false
    required:
      - energy_Wh_import
      - timestamp
    properties:
      current_A:
        description: Current in Ampere
        type: object
        additionalProperties: false
        properties:
          L1:
            description: AC L1 value only
            type: number
          L2:
            description: AC L2 value only
            type: number
          L3:
            description: AC L3 value only
            type: number
          N:
            description: AC Neutral value only
            type: number
      energy_Wh_import:
        description: Imported energy in Wh (from grid)
        type: object
        additionalProperties: false
        required:
          - total
        properties:
          L1:
            description: AC L1 value only
            type: number
          L2:
            description: AC L2 value only
            type: number
          L3:
            description: AC L3 value only
            type: number
          total:
            description: DC / AC Sum value (which is relevant for billing)
            type: number
      energy_Wh_export:
        description: Exported energy in Wh (to grid)
        type: object
        additionalProperties: false
        required:
          - total
        properties:
          L1:
            description: AC L1 value only
            type: number
          L2:
            description: AC L2 value only
            type: number
          L3:
            description: AC L3 value only
            type: number
          total:
            description: DC / AC Sum value (which is relevant for billing)
            type: number
      frequency_Hz:
        description: Grid frequency in Hertz
        type: object
        additionalProperties: false
        required:
          - L1
        properties:
          L1:
            description: AC L1 value
            type: number
          L2:
            description: AC L2 value
            type: number
          L3:
            description: AC L3 value
            type: number
      meter_id:
        type: string
      serial_number:
        type: string
      phase_seq_error:
        type: boolean
      power_W:
        description:
          Instantaneous power in Watt. Negative values are exported, positive
          values imported energy.
        type: object
        additionalProperties: false
        required:
          - total
        properties:
          L1:
            description: AC L1 value only
            type: number
          L2:
            description: AC L2 value only
            type: number
          L3:
            description: AC L3 value only
            type: number
          total:
            description: DC / AC Sum value
            type: number
      timestamp:
        type: number
      voltage_V:
        description: Voltage in Volts
        type: object
        additionalProperties: false
        properties:
          L1:
            description: AC L1 value only
            type: number
          L2:
            description: AC L2 value only
            type: number
          L3:
            description: AC L3 value only
            type: number

  # response types
  HelloResObj:
    description: Response to API.Hello
    type: object
    additionalProperties: false
    required:
      - authentication_required
      - api_version
      - everest_version
      - charger_info
    properties:
      authentication_required:
        description: Whether authentication is required
        type: boolean
      authenticated:
        description: Whether the client is properly authenticated
        type: boolean
      # permission_scopes:
      #   type: object
      api_version:
        description: Version of the JSON RPC API
        type: string
      everest_version:
        description: The version of the running EVerest instance
        type: string
      charger_info:
        description: Charger information
        type: object
        $ref: /json_rpc_api#/ChargerInfoObj
  ChargePointGetEVSEInfosResObj:
    description: Response to ChargePoint.GetEVSEInfos
    type: object
    additionalProperties: false
    required:
      - infos
      - error
    properties:
      infos:
        description: Array of EVSE infos
        type: array
        items:
          description: EVSE infos
          type: object
          $ref: /json_rpc_api#/EVSEInfoObj
      error:
        description: Response error
        type: object
        $ref: /json_rpc_api#/ResponseErrorEnum
  EVSEGetInfoResObj:
    description: Response to EVSE.GetInfo
    type: object
    additionalProperties: false
    required:
      - info
      - error
    properties:
      info:
        type: object
        $ref: /json_rpc_api#/EVSEInfoObj
      error:
        description: Response error
        type: object
        $ref: /json_rpc_api#/ResponseErrorEnum
  EVSEGetStatusResObj:
    description: Response to EVSE.GetStatus
    type: object
    additionalProperties: false
    required:
      - status
      - error
    properties:
      status:
        type: object
        $ref: /json_rpc_api#/EVSEStatusObj
      error:
        description: Response error
        type: object
        $ref: /json_rpc_api#/ResponseErrorEnum
  EVSEGetHardwareCapabilitiesResObj:
    description: Response to EVSE.GetHardwareCapabilities
    type: object
    additionalProperties: false
    required:
      - hardware_capabilities
      - error
    properties:
      hardware_capabilities:
        type: object
        $ref: /json_rpc_api#/HardwareCapabilitiesObj
      error:
        description: Response error
        type: object
        $ref: /json_rpc_api#/ResponseErrorEnum
  EVSEGetMeterDataResObj:
    description: Response to EVSE.GetMeterData
    type: object
    additionalProperties: false
    required:
      - meter_data
      - error
    properties:
      meter_data:
        type: object
        $ref: /json_rpc_api#/MeterDataObj
      error:
        description: Response error
        type: object
        $ref: /json_rpc_api#/ResponseErrorEnum
